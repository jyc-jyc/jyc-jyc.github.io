<?php
 goto waEA8; Lnt_N: require IA_INSTALL_ROOT . "\57\146\162\141\x6d\145\167\157\162\153\57\x62\157\157\x74\x73\x74\162\141\x70\x2e\x69\x6e\143\56\x70\150\x70"; goto QdTNH; f6d8U: EItgZ: goto zB1sa; kaV7B: goto BLolv; goto XR6F0; OTP5E: if (file_exists(IA_INSTALL_ROOT . "\x2f\x69\156\x64\x65\170\x2e\160\x68\160") && is_dir(IA_INSTALL_ROOT . "\x2f\167\145\x62") && file_exists($verfile) && file_exists($dbfile)) { goto oJuiJ; } goto JYaxN; idbfT: function local_create_sql($schema, $local_create_sql) { goto F8X72; F8X72: $pieces = explode("\137", $schema["\x63\x68\141\162\163\145\x74"]); goto GvEZl; vRat4: $engine = $local_create_sql ? $schema["\145\x6e\147\x69\156\x65"] : "\x4d\171\x49\x53\x41\x4d"; goto rtpIn; qWHX1: UsgWQ: goto qFu4f; ydJxm: $sql .= "\12\x29\x20\105\116\107\111\116\x45\75{$engine}\40\104\x45\106\x41\125\x4c\124\x20\x43\x48\101\x52\123\105\x54\x3d{$charset}\73\xa\xa"; goto rHorA; mdV53: xsNLl: goto BdnxN; BdnxN: $sql = rtrim($sql); goto p3EIX; qFu4f: foreach ($schema["\x69\156\144\x65\x78\x65\x73"] as $value) { goto NYCuQ; wv4V2: $sql .= "\x50\x52\x49\x4d\101\x52\x59\40\x4b\x45\x59\40\x28\140{$fields}\x60\51\54\12"; goto PS4pA; NYCuQ: $fields = implode("\140\54\x60", $value["\x66\151\145\x6c\144\x73"]); goto L0JMW; L0JMW: if (!($value["\164\x79\x70\145"] == "\151\x6e\x64\145\170")) { goto eyrHw; } goto TU_Xq; sAit4: eyrHw: goto TgOIQ; SADKj: if (!($value["\164\x79\x70\x65"] == "\160\162\151\x6d\141\162\x79")) { goto K9oEs; } goto wv4V2; TgOIQ: if (!($value["\x74\171\160\x65"] == "\x75\156\x69\x71\165\x65")) { goto I7fvE; } goto TURYS; C773m: I7fvE: goto SADKj; PS4pA: K9oEs: goto s_Y9T; s_Y9T: sxFA9: goto dxgia; TU_Xq: $sql .= "\113\105\x59\40\x60{$value["\156\x61\x6d\x65"]}\140\40\x28\140{$fields}\x60\51\54\12"; goto sAit4; TURYS: $sql .= "\125\x4e\111\x51\x55\x45\40\x4b\x45\131\40\140{$value["\x6e\141\155\145"]}\x60\40\x28\140{$fields}\140\x29\x2c\xa"; goto C773m; dxgia: } goto mdV53; TS74r: foreach ($schema["\x66\x69\x65\154\x64\163"] as $value) { goto L8dlB; JUFYg: if (isset($value["\144\145\x66\x61\x75\154\x74"])) { goto E0RWa; } goto RqiMu; ZLR4_: $length = ''; goto IVS4l; YNz6t: $null = ''; goto SYXNR; RWskU: if ($value["\x69\x6e\x63\x72\145\x6d\x65\x6e\164"]) { goto FAtML; } goto CP3gJ; wm_fs: goto m8Dx0; goto lGZ2o; UR_RA: $sql .= "\x60{$value["\156\x61\155\145"]}\140\x20{$value["\x74\171\x70\145"]}{$length}{$signed}{$null}{$default}{$increment}\x2c\xa"; goto aNl8y; gef4r: goto OesaD; goto I0XMt; SYXNR: goto qn5zg; goto LcSE2; lGZ2o: E0RWa: goto aCekx; bjQFk: qn5zg: goto JUFYg; mJMYR: if (empty($value["\156\x75\x6c\154"])) { goto phiwi; } goto YNz6t; glMuS: OpmF6: goto vfEzP; JVwvM: $signed = empty($value["\163\x69\x67\x6e\x65\144"]) ? "\40\x75\x6e\x73\151\x67\156\145\144" : ''; goto mJMYR; CP3gJ: $increment = ''; goto gef4r; gtL13: $increment = "\x20\x41\125\124\117\137\111\x4e\x43\122\105\115\x45\x4e\124"; goto ZNsZH; aCekx: $default = "\x20\x44\105\106\x41\125\x4c\x54\x20\x27" . $value["\x64\145\146\x61\165\x6c\164"] . "\x27"; goto vBUfd; aNl8y: pQMx3: goto Pfm2N; I0XMt: FAtML: goto gtL13; RqiMu: $default = ''; goto wm_fs; IVS4l: goto Iv6Ch; goto glMuS; LcSE2: phiwi: goto f6KiI; ZNsZH: OesaD: goto UR_RA; gwJJy: Iv6Ch: goto JVwvM; vBUfd: m8Dx0: goto RWskU; L8dlB: if (!empty($value["\x6c\x65\156\147\x74\150"])) { goto OpmF6; } goto ZLR4_; vfEzP: $length = "\x28{$value["\154\145\156\x67\x74\150"]}\x29"; goto gwJJy; f6KiI: $null = "\x20\116\117\124\40\x4e\125\x4c\114"; goto bjQFk; Pfm2N: } goto qWHX1; p3EIX: $sql = rtrim($sql, "\x2c"); goto ydJxm; GvEZl: $charset = $pieces[0]; goto vRat4; rtpIn: $sql = "\x43\x52\105\x41\124\x45\x20\124\x41\102\x4c\105\x20\x49\x46\x20\x4e\117\x54\x20\x45\130\x49\123\124\x53\x20\140{$schema["\x74\x61\142\154\x65\156\x61\155\145"]}\140\x20\50\xa"; goto TS74r; rHorA: return $sql; goto q2ndo; q2ndo: } goto kl6hQ; BbVrC: touch(IA_INSTALL_ROOT . "\x2f\144\x61\x74\x61\x2f\144\142\56\x6c\x6f\x63\x6b"); goto V2H15; RmuYm: $db_prefix = !empty($db_prefix) ? $db_prefix : "\151\155\163\x5f"; goto RhVRo; J0KiU: goto x5TFQ; goto KycaF; QdTNH: $sitekey = $_W["\x73\145\164\x74\151\x6e\147"]["\163\x69\164\145"]["\153\x65\171"]; goto uImrN; J3gjF: function local_run($sql, $link, $db) { goto L7L7N; HwjSY: Gq5OE: goto Ax2Qa; HKu6U: foreach ($ret as $query) { goto qs460; NEQs6: if (!$query) { goto p45Vz; } goto auQxw; j1ixF: rnc0B: goto A1X_T; tpmjL: q48cs: goto t5lYo; A1X_T: p45Vz: goto tpmjL; auQxw: $link->exec($query); goto TMGDo; qs460: $query = trim($query); goto NEQs6; cXZhl: echo $errorInfo[0] . "\x3a\40" . $errorInfo[2] . "\74\142\x72\x20\x2f\x3e"; goto z1EHL; z1EHL: exit($query); goto j1ixF; Nxfwe: $errorInfo = $link->errorInfo(); goto cXZhl; TMGDo: if (!($link->errorCode() != "\60\x30\x30\60\x30")) { goto rnc0B; } goto Nxfwe; t5lYo: } goto wGvTj; n5p1x: return; goto qXWbQ; Ax2Qa: unset($sql); goto HKu6U; rNh8k: $num = 0; goto kLEff; wGvTj: ZcgME: goto IDbaO; qXWbQ: jV_lg: goto sIGU2; FlS17: $ret = array(); goto rNh8k; Y8_Tq: $sql = str_replace("\xd", "\xa", str_replace("\x20\140\151\155\x73\x5f", "\x20\140" . $db["\x70\x72\x65\x66\x69\170"], $sql)); goto FlS17; kLEff: foreach (explode("\73\12", trim($sql)) as $query) { goto sniS3; s0pHk: $num++; goto qyyzQ; JVpng: foreach ($queries as $query) { $ret[$num] .= isset($query[0]) && $query[0] == "\43" || isset($query[1]) && isset($query[1]) && $query[0] . $query[1] == "\x2d\x2d" ? '' : $query; iOOnC: } goto n35_H; qyyzQ: uK35D: goto BP3Vw; sniS3: $ret[$num] = ''; goto siDZ2; n35_H: odKFU: goto s0pHk; siDZ2: $queries = explode("\12", trim($query)); goto JVpng; BP3Vw: } goto HwjSY; sIGU2: $sql = str_replace("\xd", "\12", str_replace("\x20\151\x6d\163\137", "\40" . $db["\x70\x72\145\x66\151\170"], $sql)); goto Y8_Tq; L7L7N: if (!(!isset($sql) || empty($sql))) { goto jV_lg; } goto n5p1x; IDbaO: } goto idbfT; f8wCa: $ret["\144\x6f\155"]["\146\141\x69\x6c\145\x64"] = true; goto jWNHw; wsod_: $server["\x75\160\x6c\157\141\144"] = @ini_get("\146\151\x6c\145\x5f\x75\x70\154\x6f\141\x64\163") ? ini_get("\x75\x70\x6c\157\x61\144\137\155\x61\x78\137\146\x69\154\x65\163\151\172\145") : "\x75\x6e\x6b\x6e\x6f\167"; goto bpxAu; iHglb: if (!(empty($accesstoken) && !$registered_site && $action != "\x72\x65\x67\x69\163\x74\145\x72\x5f\143\141\154\154\142\x61\x63\153")) { goto ZMerN; } goto golAq; dzYA8: if (!empty($data)) { goto FX7xZ; } goto MqTBR; lLd1M: lFwOV: goto BbVrC; Ooqmp: BlUKU: goto OlXWs; LGWLz: $action = "\157\141\165\164\150"; goto AKjIg; p7oJO: exit(we7_error(0, $result)); goto Tl5ra; ny_Id: $ret["\165\x70\154\x6f\x61\144"]["\156\141\155\145"] = "\xe4\xb8\x8a\xe4\xbc\xa0\351\231\x90\xe5\x88\xb6"; goto sGP7z; Cbvhj: $data = we7_request_api(API_GET_PACKAGE_MD5_AND_CHUNKTOTAL, array("\141\x63\x63\x65\163\163\137\x74\157\x6b\145\156" => $accesstoken)); goto W2hVT; k0YFG: $sitename_result = we7_update_sitename($sitename); goto joVEu; oGO0E: $i = 1; goto I10iY; OjbEj: $verfile = IA_INSTALL_ROOT . "\57\x66\162\x61\x6d\x65\x77\x6f\x72\153\57\166\x65\x72\x73\x69\157\x6e\x2e\x69\156\143\x2e\x70\150\x70"; goto BQQw8; V2H15: M_MzG: goto k17ro; BZ8Ko: goto q67l3; goto WzqXw; DvQPv: we7_setcookie("\x63\150\x75\156\153\x5f\x74\157\x74\141\154", 1); goto vu42N; KDXYc: if (!($database_result !== true)) { goto lFwOV; } goto P3WBf; miXoe: w6Jct: goto Cbvhj; Hw8EU: if (!($server["\x75\160\154\x6f\141\144"] == "\x75\156\x6b\x6e\x6f\x77" || !strstr($server["\165\x70\x6c\x6f\141\144"], "\155"))) { goto YtBNX; } goto UqYPh; ixfao: if ($user_result) { goto b7nV3; } goto Fz57i; vu42N: exit(we7_error(0, array("\164\157\x74\x61\x6c" => 1))); goto miXoe; pLOx7: $ret["\x73\x65\x73\x73\151\x6f\156"]["\162\145\163\165\x6c\164"] = "\xe7\263\273\xe7\xbb\237\x73\x65\163\163\151\x6f\x6e\x2e\x61\165\164\157\x5f\x73\x74\141\x72\x74\345\xbc\200\xe5\220\257"; goto yH3BK; b9M1N: if (!($handle_result !== true)) { goto LekA7; } goto NiSl8; fLdi_: $database_result = we7_db(); goto KDXYc; Ku3ZW: MXGeV: goto wW7Y0; ni3bE: goto DRYBb; goto Tfau0; fFrPT: Eq1sK: goto NNlhv; VZW2W: $action = in_array($action, $actions) ? $action : ''; goto AFlTq; TiUNN: function local_config() { $cfg = "\x3c\77\160\150\160\xd\12\x64\x65\x66\x69\156\x65\x64\50\x27\x49\116\137\x49\101\47\x29\x20\x6f\162\40\x65\x78\151\x74\50\x27\101\143\143\x65\163\x73\40\104\145\156\151\145\x64\47\x29\73\15\12\xd\12\44\143\x6f\x6e\x66\151\147\x20\x3d\x20\141\162\x72\x61\x79\x28\x29\x3b\15\12\15\xa\x24\143\x6f\156\146\151\147\133\x27\144\142\47\x5d\x5b\47\155\x61\163\164\145\162\x27\x5d\133\47\x68\157\163\164\x27\135\40\x3d\x20\47\173\x64\142\x2d\163\x65\162\166\145\x72\x7d\x27\73\15\xa\44\x63\x6f\156\x66\151\147\x5b\x27\144\142\47\x5d\133\x27\155\x61\163\164\x65\x72\47\x5d\133\x27\x75\163\x65\162\156\x61\x6d\x65\x27\x5d\40\x3d\40\47\x7b\144\142\x2d\x75\163\145\162\156\x61\x6d\145\175\x27\73\15\12\x24\143\x6f\156\146\x69\147\x5b\x27\144\x62\47\x5d\x5b\47\155\141\163\x74\x65\162\x27\x5d\133\47\160\141\x73\x73\x77\x6f\x72\x64\x27\135\40\x3d\40\x27\173\x64\142\55\x70\141\163\163\x77\157\162\144\x7d\x27\73\xd\xa\44\143\x6f\x6e\x66\x69\147\133\47\144\x62\47\x5d\133\47\155\x61\163\164\145\x72\x27\x5d\133\47\160\x6f\162\x74\x27\x5d\40\x3d\x20\47\x7b\x64\x62\55\x70\x6f\162\164\175\47\73\xd\12\44\143\157\x6e\x66\151\147\133\x27\144\142\47\135\x5b\47\155\x61\x73\x74\145\162\47\135\133\x27\x64\x61\164\x61\142\x61\x73\145\x27\x5d\40\x3d\40\47\x7b\x64\x62\55\156\x61\155\x65\175\x27\73\15\xa\44\143\x6f\x6e\146\x69\x67\x5b\x27\x64\142\x27\x5d\133\x27\155\x61\163\x74\145\162\47\x5d\x5b\47\x63\150\141\x72\x73\x65\164\47\x5d\40\75\x20\47\x75\x74\x66\70\x27\x3b\15\12\44\x63\157\156\146\151\147\x5b\x27\x64\x62\47\135\133\47\x6d\x61\163\164\x65\162\47\135\133\x27\160\x63\157\156\156\x65\x63\164\x27\135\40\75\x20\60\73\15\12\44\143\x6f\156\146\x69\147\x5b\47\144\x62\47\135\x5b\47\155\x61\x73\164\x65\162\x27\135\x5b\47\x74\x61\x62\x6c\145\x70\x72\145\x27\x5d\x20\x3d\x20\47\x7b\144\x62\x2d\x74\x61\x62\x6c\x65\160\x72\145\x7d\x27\73\xd\xa\15\12\x24\x63\x6f\156\146\151\147\133\x27\x64\142\47\x5d\x5b\47\x73\154\141\x76\145\137\x73\164\x61\x74\165\163\x27\135\40\x3d\40\x66\x61\x6c\x73\145\x3b\15\xa\x24\143\x6f\x6e\146\x69\x67\133\47\x64\142\47\x5d\133\x27\x73\x6c\141\x76\145\47\x5d\x5b\47\61\x27\135\x5b\47\150\157\163\164\47\135\x20\x3d\x20\x27\x27\x3b\xd\12\x24\x63\157\156\x66\x69\x67\x5b\47\x64\142\x27\135\133\47\163\154\141\x76\x65\47\135\133\x27\x31\x27\x5d\133\47\x75\163\145\x72\x6e\141\155\x65\47\x5d\40\75\x20\47\x27\x3b\15\12\44\x63\x6f\x6e\x66\x69\147\133\47\x64\x62\47\x5d\x5b\47\163\154\141\166\x65\x27\135\133\47\61\47\x5d\133\x27\160\x61\x73\163\x77\157\162\144\x27\135\40\75\40\47\47\73\15\12\44\x63\157\x6e\146\x69\147\133\x27\144\x62\47\135\x5b\x27\163\x6c\x61\166\145\x27\x5d\133\x27\61\47\135\x5b\47\x70\x6f\162\164\x27\135\x20\x3d\x20\47\x33\63\x30\67\47\73\15\12\x24\x63\157\156\x66\151\x67\x5b\47\x64\142\47\135\x5b\x27\163\x6c\141\x76\145\47\135\133\x27\61\47\x5d\133\47\x64\141\x74\141\142\141\163\x65\x27\135\40\75\x20\x27\x27\73\xd\xa\44\143\x6f\156\146\x69\x67\133\x27\x64\x62\x27\x5d\x5b\47\163\x6c\141\166\145\47\135\133\47\x31\47\135\x5b\47\143\150\x61\162\163\145\x74\x27\x5d\40\75\40\47\165\x74\x66\x38\x27\x3b\xd\12\x24\x63\x6f\x6e\x66\151\147\133\x27\144\142\47\x5d\x5b\47\x73\154\141\166\145\47\x5d\x5b\x27\61\x27\135\x5b\x27\160\x63\x6f\156\156\145\x63\x74\47\135\x20\75\40\60\x3b\15\12\x24\143\157\156\x66\x69\x67\x5b\x27\144\142\x27\135\133\47\x73\154\141\x76\x65\47\x5d\x5b\47\61\x27\x5d\x5b\x27\164\x61\142\x6c\145\160\162\x65\x27\135\x20\x3d\40\x27\x69\x6d\x73\137\47\73\xd\xa\x24\x63\x6f\156\x66\x69\x67\x5b\47\144\x62\47\x5d\133\x27\163\x6c\x61\x76\x65\47\x5d\x5b\47\61\x27\x5d\x5b\47\x77\145\x69\147\x68\164\47\x5d\x20\75\40\x30\73\xd\12\xd\xa\44\x63\157\x6e\x66\x69\147\133\x27\144\x62\x27\135\x5b\x27\x63\157\155\155\157\156\47\x5d\133\47\163\154\x61\x76\x65\x5f\145\x78\143\x65\x70\164\x5f\164\141\142\x6c\x65\47\135\x20\x3d\x20\x61\x72\162\141\171\x28\x27\x63\x6f\162\145\137\x73\x65\163\x73\151\x6f\x6e\x73\x27\x29\73\15\xa\xd\xa\x2f\x2f\x20\55\55\55\55\55\55\55\55\55\55\x2d\55\x2d\x2d\55\55\55\x2d\x2d\55\55\x2d\55\55\x2d\x2d\x20\40\103\x4f\116\106\111\107\x20\103\117\x4f\x4b\x49\x45\40\x20\55\x2d\x2d\x2d\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\55\x2d\55\55\55\55\55\55\x2d\55\55\55\x20\x2f\x2f\xd\12\44\143\x6f\156\146\x69\x67\x5b\47\x63\157\157\153\x69\145\47\135\x5b\x27\x70\x72\145\x27\135\x20\x3d\40\47\x7b\x63\x6f\x6f\153\151\145\160\x72\145\175\47\73\xd\12\x24\143\157\156\146\151\147\133\x27\x63\157\x6f\x6b\x69\145\47\135\x5b\x27\144\157\x6d\141\151\156\47\x5d\40\75\40\x27\x27\x3b\xd\xa\x24\143\x6f\156\x66\151\x67\x5b\47\143\x6f\x6f\x6b\151\x65\x27\x5d\133\47\x70\x61\x74\150\x27\135\40\75\40\x27\x2f\47\x3b\15\xa\xd\12\x2f\57\40\55\55\55\x2d\55\55\x2d\55\x2d\x2d\55\55\x2d\x2d\55\55\55\x2d\55\55\x2d\x2d\x2d\55\x2d\x2d\40\40\x43\117\116\106\111\x47\40\x53\x45\x54\x54\x49\116\x47\x20\x20\55\x2d\55\x2d\x2d\x2d\x2d\55\x2d\x2d\55\55\55\x2d\55\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\55\55\55\55\40\x2f\x2f\xd\12\44\143\157\x6e\x66\x69\147\133\47\163\x65\x74\164\x69\156\x67\x27\135\133\47\x63\150\141\162\x73\x65\x74\47\x5d\x20\x3d\40\47\165\164\x66\x2d\x38\47\x3b\15\12\x24\x63\157\156\x66\x69\x67\x5b\47\x73\145\164\164\x69\x6e\147\47\x5d\133\47\x63\141\143\150\x65\47\135\x20\x3d\x20\x27\x6d\x79\163\161\x6c\x27\x3b\xd\12\44\143\x6f\156\146\151\x67\133\47\163\x65\164\164\x69\x6e\x67\x27\135\133\47\x74\x69\155\x65\172\157\156\145\47\135\x20\x3d\x20\x27\101\x73\151\141\57\123\150\x61\x6e\147\150\141\x69\47\x3b\xd\xa\44\143\x6f\156\146\151\147\133\x27\x73\145\x74\x74\151\x6e\x67\x27\x5d\x5b\47\x6d\145\155\157\x72\x79\137\x6c\151\155\x69\164\x27\135\40\75\x20\x27\62\x35\66\115\x27\73\xd\12\x24\x63\157\x6e\x66\151\x67\x5b\47\x73\145\x74\x74\151\x6e\147\47\135\x5b\47\x66\x69\x6c\145\155\x6f\144\x65\x27\x5d\x20\x3d\x20\x30\x36\64\x34\x3b\xd\12\x24\143\157\x6e\146\x69\x67\x5b\x27\x73\145\164\164\151\156\x67\47\135\x5b\47\141\x75\x74\150\x6b\145\x79\47\135\x20\x3d\x20\47\x7b\141\165\x74\x68\153\x65\x79\175\x27\x3b\xd\12\44\x63\x6f\x6e\146\151\x67\x5b\x27\163\145\164\164\151\x6e\147\x27\135\x5b\47\146\157\x75\156\x64\x65\162\x27\x5d\40\x3d\x20\47\x31\x27\x3b\15\xa\x24\143\x6f\x6e\146\x69\147\133\x27\163\x65\164\x74\151\x6e\x67\x27\135\x5b\47\x64\145\166\x65\x6c\x6f\160\155\145\x6e\164\x27\135\40\75\40\60\x3b\15\xa\x24\x63\x6f\156\x66\151\x67\133\x27\x73\145\164\x74\x69\156\x67\47\135\133\47\x72\145\146\145\x72\162\x65\162\x27\x5d\40\75\40\60\73\15\xa\15\12\x2f\57\40\x2d\55\55\55\55\55\55\55\55\x2d\55\x2d\55\55\55\55\x2d\x2d\55\x2d\x2d\55\x2d\55\x2d\55\x20\x20\103\117\x4e\106\x49\107\x20\125\120\x4c\x4f\x41\x44\40\40\55\x2d\55\x2d\x2d\55\55\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\55\55\55\x2d\55\x2d\x2d\x2d\x2d\55\x20\57\x2f\15\12\44\143\x6f\156\146\151\147\133\47\165\x70\154\157\141\144\x27\x5d\x5b\47\x69\155\x61\x67\x65\x27\135\133\47\x65\x78\x74\145\156\x74\x69\x6f\156\x73\47\x5d\x20\75\40\x61\162\162\141\171\x28\x27\147\x69\146\47\54\40\47\x6a\x70\x67\47\x2c\x20\47\152\160\145\x67\x27\54\40\x27\x70\x6e\x67\47\51\73\xd\12\44\x63\157\x6e\x66\x69\x67\133\x27\x75\x70\x6c\x6f\141\x64\47\x5d\133\x27\151\155\141\x67\x65\x27\x5d\x5b\47\x6c\151\155\151\x74\x27\x5d\40\75\40\65\60\60\60\73\15\12\44\x63\x6f\156\146\151\147\x5b\x27\165\x70\154\x6f\x61\x64\x27\135\133\47\141\x74\164\x61\x63\x68\x64\151\162\x27\x5d\40\x3d\40\x27\173\141\164\x74\141\143\150\x64\151\162\175\47\x3b\xd\xa\44\x63\157\156\x66\x69\x67\133\x27\x75\x70\x6c\157\x61\x64\47\x5d\133\x27\x61\x75\144\x69\157\x27\135\133\47\145\x78\x74\145\x6e\164\x69\x6f\x6e\x73\47\x5d\40\x3d\x20\141\x72\x72\x61\x79\50\47\x6d\160\x33\47\x29\73\xd\12\44\x63\x6f\x6e\146\x69\x67\x5b\x27\165\x70\154\x6f\141\144\x27\x5d\x5b\47\x61\165\x64\151\x6f\x27\x5d\133\47\154\x69\x6d\151\x74\x27\x5d\x20\x3d\40\x35\60\60\x30\x3b\xd\xa\xd\12\x2f\57\x20\55\55\x2d\x2d\x2d\x2d\55\55\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\55\55\x2d\x2d\x2d\x20\40\x43\x4f\116\x46\111\x47\x20\x4d\105\115\103\x41\x43\110\105\40\40\55\x2d\55\55\x2d\55\55\55\55\55\55\x2d\x2d\x2d\x2d\x2d\55\x2d\55\55\x2d\55\55\55\x2d\x2d\x2d\40\x2f\57\15\12\x24\143\157\156\146\151\x67\133\x27\x73\x65\x74\x74\x69\156\147\47\135\133\x27\x6d\x65\x6d\143\x61\143\x68\145\x27\135\x5b\x27\x73\145\x72\x76\x65\162\47\x5d\40\x3d\x20\x27\47\x3b\15\xa\44\x63\x6f\156\146\151\x67\133\47\163\x65\164\x74\x69\x6e\x67\x27\135\133\x27\x6d\x65\x6d\143\x61\143\x68\x65\47\x5d\x5b\47\160\x6f\x72\164\47\135\40\x3d\40\61\61\62\x31\x31\73\xd\xa\44\x63\157\156\146\x69\x67\133\x27\163\145\x74\164\151\156\x67\47\135\133\x27\155\145\155\143\141\143\150\x65\47\x5d\x5b\x27\160\143\157\x6e\x6e\x65\143\164\x27\135\40\75\x20\61\73\15\12\x24\143\157\156\x66\151\147\x5b\47\163\145\x74\164\151\156\147\x27\x5d\133\x27\155\x65\x6d\143\141\143\150\x65\47\135\133\47\164\x69\155\x65\x6f\165\x74\47\x5d\40\x3d\40\x33\60\x3b\xd\xa\44\143\x6f\156\x66\x69\147\133\x27\163\x65\164\164\151\x6e\147\47\135\x5b\47\x6d\x65\155\x63\x61\x63\x68\145\x27\135\133\47\163\145\163\x73\151\157\156\47\135\x20\75\x20\61\x3b\xd\12\15\xa\x2f\57\x20\x2d\55\55\x2d\x2d\55\x2d\x2d\x2d\55\55\x2d\x2d\x2d\x2d\x2d\55\55\55\55\55\55\55\55\x2d\55\40\x20\x43\x4f\x4e\106\111\107\40\120\x52\117\x58\x59\40\40\x2d\x2d\55\x2d\55\x2d\55\x2d\55\55\x2d\x2d\55\55\x2d\x2d\55\x2d\55\55\55\55\x2d\55\x2d\x2d\x2d\x20\x2f\x2f\15\xa\44\143\157\156\146\x69\x67\133\47\163\x65\x74\x74\151\156\x67\x27\x5d\x5b\x27\x70\162\157\x78\x79\47\135\133\47\150\157\163\164\47\135\40\75\x20\x27\47\x3b\xd\xa\44\x63\x6f\156\x66\151\147\x5b\x27\x73\145\164\x74\x69\x6e\147\x27\x5d\133\x27\160\x72\x6f\x78\171\47\135\133\47\141\x75\164\150\x27\x5d\x20\75\x20\47\47\x3b"; return trim($cfg); } goto ozLuc; Cq0gm: $password = trim($_POST["\x70\141\163\x73\x77\157\162\x64"]); goto sgfSo; UHQyE: $chunk_total = we7_getcookie("\x63\150\165\x6e\x6b\137\x74\x6f\164\141\x6c"); goto Ei6AZ; FGdxN: goto BlUKU; goto wtuUT; QJ8nq: $fh = fopen("\56\57\x77\145\67\163\x6f\x75\162\x63\x65\x2e\172\151\160", "\x77\142"); goto XcF81; mPiHS: aMCse: goto cGGvL; vg8ne: $ret["\x66\x6f\x70\145\156"]["\162\x65\163\165\154\164"] = "\xe4\270\x8d\xe6\224\xaf\xe6\214\201\146\x6f\x70\x65\156"; goto yar3T; qT1b3: if ($registered_site == 1) { goto a7GWS; } goto YiRnF; C9lsO: exit(we7_error(0, $chunk_num)); goto mxCle; JEKbA: define("\x49\x41\137\x49\x4e\123\x54\x41\114\114\137\122\117\117\124", str_replace("\134", "\57", dirname(__FILE__))); goto R9vMK; i8gS7: header("\154\157\143\x61\x74\151\x6f\156\72\40\56\57\x69\156\144\x65\x78\x2e\x70\x68\160"); goto lD35K; XAl1x: zHCnS: goto VA2Gk; W77Wz: if (!($register_site_result !== true)) { goto z9NoM; } goto XhzDR; JBStP: ZfwPd: goto Cu4pv; JUkJK: x5TFQ: goto aqL6c; MusxB: $data = we7_request_api(API_OAUTH_ACCESSTOKEN, array("\143\x6f\x64\x65" => $code)); goto yzMs0; eX23P: setting_save($site, "\x73\151\x74\145"); goto plHQB; yMcaD: $auth = @json_decode(base64_decode($post), true); goto SB5aU; syRRy: $sitename = trim($_POST["\x73\x69\164\145\x6e\x61\x6d\x65"]); goto MmHWZ; J2iW_: function we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix) { goto x6yNz; x6yNz: if (!(empty($server) || empty($db_username) || empty($db_password) || empty($db_name))) { goto d74mk; } goto J6HlN; E7s__: df8L9: goto tw3Tl; A2gVB: return $result !== false ? true : false; goto pPmA9; fgp7u: return $error; goto E7s__; aAixm: $result = file_put_contents(IA_INSTALL_ROOT . "\57\144\141\x74\141\x2f\143\x6f\156\146\x69\147\x2e\x70\150\x70", $config); goto A2gVB; gZiSD: $config = str_replace(array("\x7b\144\142\55\x73\x65\162\166\145\162\175", "\x7b\x64\142\55\165\163\145\162\156\141\155\x65\x7d", "\x7b\x64\x62\55\160\141\x73\163\167\157\162\144\175", "\x7b\x64\x62\55\160\x6f\162\x74\x7d", "\x7b\x64\142\55\156\x61\155\145\175", "\x7b\x64\x62\55\x74\141\142\x6c\145\160\162\145\175", "\173\x63\157\157\153\151\145\160\162\145\175", "\x7b\x61\165\x74\x68\x6b\145\171\x7d", "\173\141\164\164\x61\143\x68\x64\151\162\x7d"), array($db["\163\145\162\166\x65\162"], $db["\x75\163\145\x72\156\141\x6d\x65"], $db["\160\141\163\163\167\x6f\x72\144"], $db["\160\x6f\162\x74"], $db["\x6e\141\x6d\x65"], $db["\160\162\x65\x66\151\170"], $cookiepre, $authkey, "\x61\164\x74\141\143\150\x6d\x65\156\164"), $config); goto NTnlo; DE1w9: try { goto dXyCB; O2dqq: dFTPY: goto LSB9h; F1DHF: $statement = $link->query("\x53\x48\117\127\40\x44\x41\124\x41\x42\101\123\x45\123\40\x4c\111\x4b\105\x20\47{$db["\156\x61\x6d\x65"]}\x27\73"); goto owb0W; CuCQa: kAuhk: goto kwwEO; dXyCB: $link = new PDO("\155\x79\163\x71\x6c\72\150\157\x73\164\75{$db["\163\x65\x72\166\x65\162"]}\x3b\x70\x6f\x72\x74\x3d{$db["\160\157\x72\x74"]}", $db["\x75\x73\x65\x72\x6e\x61\x6d\145"], $db["\x70\x61\x73\163\167\157\162\x64"]); goto JjFTH; rvzh0: $link->query("\x43\122\105\101\x54\x45\x20\104\101\x54\101\x42\101\x53\x45\x20\111\x46\x20\116\x4f\124\40\105\130\x49\x53\x54\123\40\140{$db["\x6e\141\155\x65"]}\x60"); goto K6YAT; OsCQq: if (!empty($fetch)) { goto dFTPY; } goto GYBA3; rCgHn: Dv6FA: goto GpqG8; GCELR: K_mX5: goto d69eP; C6h8G: $errorInfo = $link->errorInfo(); goto oGHIB; imDOr: BtZV9: goto is1Ix; bhtcR: d8na5: goto nK92O; jsV2G: $link->exec("\123\x45\124\x20\163\161\x6c\137\155\157\x64\x65\75\47\x27"); goto XQgP8; LSB9h: if (!($link->errorCode() != "\60\x30\x30\60\60")) { goto Dv6FA; } goto C6h8G; Hgv6x: $statement = $link->query("\x53\x48\x4f\x57\40\x54\x41\x42\114\105\x53\x20\x4c\x49\113\x45\x20\47{$db["\x70\x72\145\146\151\x78"]}\45\47\73"); goto kYUCD; JjFTH: $link->exec("\123\x45\124\40\143\150\141\162\x61\x63\x74\x65\162\137\163\145\x74\x5f\x63\157\x6e\x6e\145\x63\164\151\x6f\x6e\75\x75\164\x66\x38\x2c\40\143\x68\141\x72\x61\x63\x74\145\x72\137\163\145\x74\137\162\145\163\x75\154\x74\163\x3d\165\x74\146\70\x2c\x20\143\150\x61\162\141\x63\164\x65\x72\137\x73\x65\x74\137\x63\x6c\151\x65\156\x74\x3d\142\x69\x6e\x61\162\171"); goto jsV2G; QHaSY: return "\346\x82\xa8\xe7\232\204\xe6\x95\260\xe6\x8d\256\xe5\xba\x93\344\xb8\215\344\270\xba\xe7\xa9\272\xef\xbc\x8c\xe8\257\xb7\351\x87\x8d\346\x96\xb0\xe5\273\272\xe7\253\x8b\346\x95\260\xe6\x8d\xae\345\xba\223\346\x88\x96\346\x98\257\346\xb8\205\xe7\xa9\272\xe8\257\245\346\x95\xb0\346\x8d\256\xe5\272\223\xe6\210\x96\xe6\233\xb4\346\x94\271\350\241\250\345\211\215\xe7\274\200\xef\274\201"; goto GCELR; owb0W: $fetch = $statement->fetch(); goto OsCQq; e2OnR: if (substr($link->getAttribute(PDO::ATTR_SERVER_VERSION), 0, 3) > "\x34\x2e\x31") { goto BtZV9; } goto rvzh0; kYUCD: if (!$statement->fetch()) { goto K_mX5; } goto QHaSY; kwwEO: ZHdJN: goto F1DHF; GYBA3: $error .= "\346\x95\xb0\346\215\xae\345\xba\x93\xe4\xb8\x8d\345\255\230\xe5\x9c\xa8\344\xb8\x94\345\210\x9b\345\xbb\xba\346\225\xb0\346\215\xae\xe5\xba\223\xe5\244\261\350\264\xa5\x2e"; goto O2dqq; GOH65: cAMh0: goto FyezT; GpqG8: goto cAMh0; goto bhtcR; O75ji: $error = $errorInfo[2]; goto GOH65; K6YAT: goto kAuhk; goto imDOr; EYeQP: $fetch = $statement->fetch(); goto SfzO7; oGHIB: $error .= $errorInfo[2]; goto rCgHn; XQgP8: if ($link->errorCode() != "\x30\x30\x30\x30\x30") { goto d8na5; } goto fO51A; fO51A: $statement = $link->query("\x53\x48\x4f\x57\x20\104\101\124\x41\102\x41\x53\105\123\40\x4c\111\113\x45\40\x27{$db["\x6e\141\155\145"]}\47\73"); goto EYeQP; SfzO7: if (!empty($fetch)) { goto ZHdJN; } goto e2OnR; FyezT: $link->exec("\125\123\x45\x20{$db["\x6e\141\x6d\x65"]}"); goto Hgv6x; nK92O: $errorInfo = $link->errorInfo(); goto O75ji; is1Ix: $link->query("\x43\x52\x45\x41\124\x45\x20\x44\101\x54\x41\102\x41\123\x45\40\x49\x46\40\x4e\x4f\124\40\x45\130\111\123\x54\123\40\x60{$db["\x6e\141\155\x65"]}\x60\x20\104\x45\106\x41\125\114\124\x20\103\x48\x41\x52\x41\103\124\x45\x52\x20\123\x45\x54\40\165\x74\x66\70"); goto CuCQa; d69eP: } catch (PDOException $e) { goto rwygX; rwygX: $error = $e->getMessage(); goto LIvGy; LIvGy: if (strpos($error, "\101\143\143\x65\163\163\40\x64\145\156\x69\x65\144\x20\x66\x6f\162\x20\165\163\145\162") !== false) { goto nWtMe; } goto q0PyE; q0PyE: $error = iconv("\x67\142\x6b", "\165\x74\x66\70", $error); goto RxB4r; zf49V: nWtMe: goto ksvOA; ksvOA: $error = "\346\202\250\xe7\232\204\346\x95\260\346\x8d\256\xe5\xba\x93\xe8\256\277\xe9\227\xae\347\224\xa8\346\210\267\345\220\215\xe6\x88\226\xe6\230\257\345\xaf\206\xe7\xa0\x81\351\x94\x99\350\xaf\xaf\x2e"; goto oTZHM; oTZHM: Kyde3: goto RlJxw; RxB4r: goto Kyde3; goto zf49V; RlJxw: } goto amVL7; u6Jgm: $cookiepre = local_salt(4) . "\x5f"; goto HyMd8; amVL7: if (empty($error)) { goto df8L9; } goto fgp7u; tw3Tl: $config = local_config(); goto u6Jgm; NTnlo: local_mkdirs(IA_INSTALL_ROOT . "\57\x64\141\x74\141"); goto aAixm; CO5iZ: $db = array("\x73\x65\x72\x76\x65\x72" => $pieces[0] == "\61\x32\67\56\60\56\60\56\61" ? "\154\x6f\x63\141\154\x68\157\x73\164" : $pieces[0], "\x70\x6f\x72\164" => !empty($pieces[1]) ? $pieces[1] : "\63\x33\x30\x36", "\x75\163\145\x72\156\141\155\x65" => $db_username, "\x70\x61\163\163\167\157\x72\144" => $db_password, "\x70\162\145\x66\151\170" => $db_prefix, "\156\x61\155\145" => $db_name); goto DE1w9; ZQOq8: d74mk: goto Rn6x3; Rn6x3: $pieces = explode("\72", $server); goto CO5iZ; J6HlN: return false; goto ZQOq8; HyMd8: $authkey = local_salt(8); goto gZiSD; pPmA9: } goto JX6Ol; mdSAk: define("\x41\120\x49\x5f\107\105\x54\x5f\x43\110\125\116\x4b\137\x50\101\103\x4b\101\x47\105", API_HOST . "\57\165\x74\151\154\57\160\141\x63\153\x61\147\145\57\151\x6e\163\x74\141\154\154"); goto EZK3m; NNlhv: exit(we7_error(433, "\141\x63\143\x65\163\x73\x74\157\x6b\x65\x6e\x20\145\x78\160\x69\x72\145\144\56")); goto M2NQ8; lhiPR: we7_setcookie("\141\x63\143\145\x73\163\x74\x6f\153\145\156", $data); goto ALvD1; NiZnG: $is_https = $_SERVER["\123\105\122\x56\105\122\x5f\x50\117\122\x54"] == 443 || isset($_SERVER["\x48\124\124\x50\123"]) && strtolower($_SERVER["\110\x54\124\x50\x53"]) != "\157\x66\146" || strtolower($_SERVER["\110\124\x54\120\x5f\130\137\x46\x4f\x52\x57\101\x52\x44\105\x44\137\120\122\117\124\117"]) == "\x68\164\x74\160\x73" || strtolower($_SERVER["\x48\124\124\x50\137\130\137\x43\x4c\111\105\116\124\x5f\x53\103\x48\x45\x4d\105"]) == "\x68\164\164\160\x73" ? true : false; goto IAaIH; K3tOu: $data = we7_request_api(API_OAUTH_LOGIN_URL, array("\x72\x65\x64\x69\x72\x65\143\x74" => $callback)); goto n1fE_; WhXWh: $hostfile = fopen($cdn_source_file, "\x72\142"); goto T2hWc; MWhSV: if (!empty($source_size)) { goto MXGeV; } goto Jq4uu; cR7SW: exit(we7_error(400, $data["\x65\162\162\157\162"])); goto XJApg; TfZZ2: $ret["\146\x6f\160\145\x6e"]["\157\x6b"] = @ini_get("\141\154\154\157\x77\137\165\x72\154\137\146\x6f\160\x65\x6e") && function_exists("\x66\163\157\x63\153\x6f\x70\x65\156"); goto LLg1Q; kl6hQ: function install_authcode($string, $operation = "\x44\x45\103\117\104\x45", $key = '', $expiry = 0) { goto rCESR; vtjv5: $i++; goto qSAY0; VbQ9B: $box[$j] = $tmp; goto HgMDp; zIx5H: $i++; goto rvvxZ; yrpVP: if ($operation == "\x44\105\x43\x4f\x44\x45") { goto oYcCc; } goto ANEdM; vDwjN: $box[$a] = $box[$j]; goto VbQ9B; Ztg42: $key = md5($key != '' ? $key : $GLOBALS["\137\x57"]["\143\157\156\x66\x69\x67"]["\163\145\164\164\151\x6e\147"]["\x61\165\x74\150\153\145\x79"]); goto fOURR; xcctd: $j = $i = 0; goto EX_qz; rCESR: $ckey_length = 4; goto Ztg42; gHNa3: G480A: goto B3DKf; vPqZJ: $box[$j] = $tmp; goto WVMDL; rvvxZ: goto BfavH; goto ShHa_; nGA5y: XeFu7: goto Tbktk; aQX7B: $string_length = strlen($string); goto XoE2l; XEdRW: $tmp = $box[$a]; goto vDwjN; NpXut: $j = ($j + $box[$a]) % 256; goto XEdRW; H7UbX: $cryptkey = $keya . md5($keya . $keyc); goto pY3Qy; tXNdo: return substr($result, 26); goto cw81r; mTvYA: $a = ($a + 1) % 256; goto NpXut; Yfq6S: $box = range(0, 255); goto QH7hB; CRgp_: $tmp = $box[$i]; goto uX2TY; KXUMK: $string = $operation == "\x44\105\x43\x4f\104\x45" ? base64_decode(substr($string, $ckey_length)) : sprintf("\x25\60\x31\x30\144", $expiry ? $expiry + time() : 0) . substr(md5($string . $keyb), 0, 16) . $string; goto aQX7B; HgMDp: $result .= chr(ord($string[$i]) ^ $box[($box[$a] + $box[$j]) % 256]); goto dZ8Fm; JG91K: if (!($i < 256)) { goto rAQ7N; } goto SMwwX; rpR5z: if (!($i < $string_length)) { goto uG31l; } goto mTvYA; EX_qz: bJLNz: goto JG91K; uYCQz: return ''; goto LEJi8; pY3Qy: $key_length = strlen($cryptkey); goto KXUMK; fOURR: $keya = md5(substr($key, 0, 16)); goto dj8BB; uX2TY: $box[$i] = $box[$j]; goto vPqZJ; UG9z6: $rndkey[$i] = ord($cryptkey[$i % $key_length]); goto nGA5y; qbbr5: al9HF: goto xcctd; p11kA: nlUZr: goto tXNdo; qSAY0: goto bJLNz; goto M1CWh; SMwwX: $j = ($j + $box[$i] + $rndkey[$i]) % 256; goto CRgp_; Tbktk: $i++; goto fbS8E; nYDc3: oYcCc: goto U7u_Y; fbS8E: goto G480A; goto qbbr5; QH7hB: $rndkey = array(); goto cUOm0; pn0wc: $keyc = $ckey_length ? $operation == "\x44\105\x43\x4f\x44\x45" ? substr($string, 0, $ckey_length) : substr(md5(microtime()), -$ckey_length) : ''; goto H7UbX; dN82M: $a = $j = $i = 0; goto cbNhM; khsIK: goto kwk8b; goto nYDc3; R6YQU: kwk8b: goto gdtqJ; B3DKf: if (!($i <= 255)) { goto al9HF; } goto UG9z6; M1CWh: rAQ7N: goto dN82M; dZ8Fm: X02FX: goto zIx5H; ANEdM: return $keyc . str_replace("\75", '', base64_encode($result)); goto khsIK; ShHa_: uG31l: goto yrpVP; U7u_Y: if ((substr($result, 0, 10) == 0 || substr($result, 0, 10) - time() > 0) && substr($result, 10, 16) == substr(md5(substr($result, 26) . $keyb), 0, 16)) { goto nlUZr; } goto uYCQz; cUOm0: $i = 0; goto gHNa3; dj8BB: $keyb = md5(substr($key, 16, 16)); goto pn0wc; cbNhM: BfavH: goto rpR5z; WVMDL: Tk13U: goto vtjv5; cw81r: HSaF1: goto R6YQU; XoE2l: $result = ''; goto Yfq6S; LEJi8: goto HSaF1; goto p11kA; gdtqJ: } goto qSvZD; VZKE9: if (file_exists(IA_INSTALL_ROOT . "\x2f\144\141\x74\141\x2f\144\142\56\154\x6f\x63\153")) { goto M_MzG; } goto fLdi_; ALvD1: header("\114\157\143\x61\164\151\157\x6e\72\40" . $siteroot . "\x2f\x69\x6e\163\x74\141\154\x6c\56\160\150\x70"); goto bCBLM; SB5aU: if (!(!empty($auth["\165\162\154"]) && $auth["\x75\x72\154"] == $siteroot)) { goto dBpYW; } goto VL2T2; RhVRo: $database_result = we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix); goto BJapx; EFWf_: define("\x41\x50\x49\x5f\x47\105\124\137\x50\101\103\x4b\101\x47\x45\137\115\104\65\137\101\x4e\x44\137\103\x48\x55\116\x4b\x54\x4f\x54\x41\114", API_HOST . "\x2f\165\164\151\154\x2f\x70\141\143\153\x61\147\x65\x2f\x69\x6e\x73\164\x61\154\154"); goto mdSAk; Kp0UT: goto ZfwPd; goto pVD3h; B3O7Z: $ret["\141\154\167\141\x79\x73\x5f\x70\157\x70\165\x6c\141\164\x65\x5f\x72\141\x77\x5f\160\157\x73\x74\x5f\144\141\x74\x61"]["\x68\x61\x6e\144\154\x65"] = "\150\x74\164\x70\163\72\57\57\x73\56\167\67\56\143\x63\57\x77\x6f\x2f\x70\162\x6f\x62\154\x65\x6d\57\61\x33\64"; goto At52J; KycaF: M6eCi: goto I2cHv; LMP1X: function we7_error($num, $message = "\x73\x75\x63\143\x65\x73\x73") { $num = intval($num); return json_encode(array("\x65\x72\162\x6e\157" => $num, "\144\x61\164\x61" => $message)); } goto MGT8U; GVfMd: YtBNX: goto n1EJB; p6jLG: $filesize = filesize($filename); goto Tq1PW; B654Z: function local_writeable($dir) { goto qwznK; oSw9r: V_cUC: goto aGKkr; ok8_2: J6jLd: goto s132n; AS5HX: @mkdir($dir, 0777); goto ok8_2; zUpjm: jJsRh: goto zWIYd; LlVyo: pEMpf: goto zUpjm; RlvFN: unlink("{$dir}\x2f\x74\145\163\164\x2e\164\x78\164"); goto z7ixI; aGKkr: fclose($fp); goto RlvFN; e3Ybb: if ($fp = fopen("{$dir}\57\164\x65\x73\164\x2e\164\x78\x74", "\167")) { goto V_cUC; } goto iYaTs; iYaTs: $writeable = 0; goto aUgWu; s132n: if (!is_dir($dir)) { goto jJsRh; } goto e3Ybb; uvLDU: if (is_dir($dir)) { goto J6jLd; } goto AS5HX; z7ixI: $writeable = 1; goto LlVyo; qwznK: $writeable = 0; goto uvLDU; zWIYd: return $writeable; goto K_VHu; aUgWu: goto pEMpf; goto oSw9r; K_VHu: } goto M0KvM; iTCeA: if (!(!empty($ret["\x73\145\x73\163\151\x6f\x6e"]["\x6f\x6b"]) && strtolower($ret["\x73\145\x73\163\x69\157\156"]["\157\153"]) == "\157\156")) { goto IDF8V; } goto zKPKf; AKjIg: goto OJb5R; goto nA_us; n1fE_: if (!(is_array($data) && isset($data["\145\x72\162\157\x72"]))) { goto k3IsK; } goto HJMD8; Fo8ge: $i++; goto YGqtU; MmHWZ: $username = trim($_POST["\165\x73\x65\x72\156\141\155\x65"]); goto Cq0gm; aqL6c: LhJoE: goto Vo_MI; qSvZD: function we7_network_enable($host) { goto BpH9n; olxrV: xsxsG: goto OwgYs; eDkGx: $if_local_network10 = preg_match("\57\136\x31\x30\x5c\x2e\x28\61\x5c\144\x7b\62\x7d\174\x32\x5b\60\x2d\x34\x5d\134\144\x7c\62\x35\133\60\55\x35\x5d\x7c\133\61\55\x39\x5d\x5c\144\174\x5c\144\51\x5c\x2e\50\61\134\144\x7b\x32\175\174\x32\133\x30\x2d\64\135\134\x64\x7c\62\65\133\60\x2d\x35\135\x7c\x5b\x31\x2d\71\x5d\x5c\x64\x7c\134\144\x29\x5c\56\50\61\134\144\173\62\x7d\x7c\x32\133\x30\55\x34\x5d\x5c\x64\x7c\62\65\x5b\x30\x2d\65\x5d\174\x5b\x31\55\x39\135\x5c\x64\174\134\144\x29\44\x2f", $host); goto OxPOW; HK2SP: if ($httphost_is_ip) { goto FZMxu; } goto XH2Id; R32wH: return false; goto Jm6uW; Uz63D: goto zZngx; goto HvMzc; Jm6uW: zKzIh: goto Uz63D; OwgYs: $if_local_network192 = preg_match("\x2f\136\61\x39\62\x5c\x2e\x31\x36\70\134\56\x28\61\x5c\144\173\x32\175\x7c\x32\x5b\x30\55\x34\135\x5c\x64\174\62\x35\133\60\55\65\135\x7c\x5b\61\x2d\71\x5d\134\144\x7c\134\x64\51\x5c\56\50\61\134\x64\173\62\x7d\x7c\x32\x5b\60\x2d\x34\x5d\x5c\144\x7c\x32\x35\133\60\x2d\x35\135\174\133\x31\x2d\71\x5d\x5c\144\174\134\x64\51\x24\57", $host); goto S8yBf; EjsaF: Ujh04: goto Kgukf; XH2Id: $dns_record = dns_get_record($host, DNS_A); goto KhgvR; Kgukf: $if_local_network172 = preg_match("\57\136\61\x37\62\x5c\56\50\61\133\x36\55\71\135\x7c\62\x5b\x30\55\x39\135\x7c\63\133\x30\x2d\x31\135\51\134\56\50\61\134\x64\173\x32\x7d\x7c\x32\x5b\x30\x2d\x34\x5d\x5c\x64\174\x32\65\x5b\60\x2d\x35\x5d\x7c\133\x31\x2d\71\135\x5c\x64\x7c\134\x64\x29\134\x2e\x28\x31\134\144\173\62\x7d\174\62\133\60\55\x34\x5d\x5c\x64\174\x32\65\133\60\x2d\x35\135\x7c\133\61\x2d\x39\x5d\x5c\144\174\x5c\144\x29\44\57", $host); goto pYf_8; bLLei: NsE7b: goto obpsZ; eZR73: zZngx: goto L1Vw4; KAAkf: G2sM7: goto eZR73; BpH9n: if (!empty($host)) { goto NsE7b; } goto j1SSu; S8yBf: if (!$if_local_network192) { goto G2sM7; } goto bOXq0; KhgvR: if (!(empty($dns_record) || empty($dns_record[0]["\151\160"]) || $dns[0]["\151\x70"] == "\61\62\x37\x2e\x30\56\60\x2e\61")) { goto zKzIh; } goto R32wH; HvMzc: FZMxu: goto eDkGx; pYf_8: if (!$if_local_network172) { goto xsxsG; } goto AtYwQ; L1Vw4: return true; goto WnFUc; AtYwQ: return false; goto olxrV; OxPOW: if (!$if_local_network10) { goto Ujh04; } goto FjRr8; obpsZ: $httphost_is_ip = preg_match("\57\x5e\50\61\x5c\144\173\62\175\174\x32\133\x30\55\64\x5d\x5c\144\x7c\x32\x35\x5b\x30\x2d\x35\135\174\x5b\x31\x2d\71\135\134\144\x7c\x5b\x31\55\x39\135\51\x5c\56\x28\x31\x5c\144\173\x32\175\174\62\x5b\x30\55\64\x5d\x5c\x64\x7c\x32\x35\x5b\60\55\x35\135\x7c\x5b\61\55\x39\x5d\x5c\x64\x7c\x5c\x64\x29\134\56\50\x31\x5c\x64\x7b\62\x7d\x7c\62\133\60\x2d\64\135\134\x64\x7c\62\65\x5b\x30\x2d\65\x5d\174\133\x31\55\71\x5d\134\144\174\134\144\51\x5c\56\50\61\x5c\144\173\x32\175\x7c\62\x5b\60\55\64\135\134\x64\x7c\62\65\133\60\x2d\x35\135\174\x5b\x31\55\x39\135\134\x64\x7c\x5c\x64\x29\44\x2f", $host); goto HK2SP; FjRr8: return false; goto EjsaF; bOXq0: return false; goto KAAkf; j1SSu: return false; goto bLLei; WnFUc: } goto OqPsy; Ei6AZ: if (!empty($chunk_total)) { goto gvbq1; } goto cfVH2; uOzuc: F6AgA: goto TfZZ2; P3WBf: exit(we7_error(420, $database_result)); goto lLd1M; WcedE: fclose($hostfile); goto hIwJE; VL2T2: define("\x49\116\x5f\123\x59\x53", true); goto umLn3; qzk_2: gvbq1: goto qT1b3; KCAbQ: exit(we7_error(0, $chunk_num)); goto Ooqmp; hCpkX: b7nV3: goto NceW4; FzkEy: oJuiJ: goto VZKE9; rYfQQ: $ret["\146\x6f\160\145\156"]["\x6e\141\x6d\145"] = "\x66\x6f\x70\x65\x6e"; goto vg8ne; bUEys: if (feof($hostfile)) { goto iykkL; } goto Bn0Du; EZK3m: define("\101\x50\111\x5f\117\x41\125\x54\110\x5f\x52\x45\x47\111\x53\124\105\122\x5f\x53\111\124\105", API_HOST . "\57\x73\151\164\145\x2f\162\145\x67\151\x73\164\x65\x72\x2f\x69\156\144\145\170"); goto V7q1P; RURmv: aCp53: goto MO00S; T4bn_: $hostfile = fopen($cdn_source_file, "\x72\142"); goto QJ8nq; Cu4pv: P6s7M: goto tXC2y; S3X3L: $post = file_get_contents("\160\150\x70\x3a\x2f\x2f\x69\156\160\x75\x74"); goto yMcaD; YhcC0: ABlJw: goto W1lz2; r3Gco: clearstatcache(); goto gLUyT; KEDp_: $db_password = trim($_POST["\160\x61\x73\163\167\157\162\x64"]); goto fsjwb; oQpML: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\x64\141\x74\x61\57\143\x6f\156\x66\x69\147\x2e\x70\x68\x70") || !empty($_POST))) { goto UdyLF; } goto ZwFrs; waEA8: ini_set("\144\x69\x73\160\x6c\x61\x79\137\145\162\162\157\162\x73", 0); goto fGETy; xtDEo: $ret["\x64\x6f\155"]["\x72\145\163\165\154\x74"] = "\346\262\xa1\xe6\234\x89\345\x90\257\xe7\224\250\104\x4f\x4d\104\157\x63\165\155\145\x6e\x74"; goto aVmMF; xdR4T: z9NoM: goto RURmv; Enp0u: function we7_http_response_parse($data) { goto od0lY; FeHWU: if (!($rlt["\x63\157\x64\x65"] == "\x31\x30\60")) { goto xuTqO; } goto TIsbN; od0lY: $rlt = array(); goto CXwex; mkbap: koux8: goto SUNOO; naF8F: if (!($isgzip && function_exists("\x67\172\144\145\143\157\x64\x65"))) { goto koux8; } goto Scy3p; eOD92: $split2 = explode("\xd\xa", $split1[0], 2); goto jx3xP; jx3xP: preg_match("\x2f\x5e\50\134\123\53\51\x20\x28\134\123\x2b\x29\x20\x28\56\x2a\x29\44\x2f", $split2[0], $matches); goto spML0; Scy3p: $rlt["\x63\x6f\x6e\164\145\156\x74"] = gzdecode($rlt["\143\157\x6e\164\x65\156\164"]); goto mkbap; TIsbN: return we7_http_response_parse($rlt["\143\x6f\156\164\x65\x6e\x74"]); goto B9MKr; gFZj8: $rlt["\x63\x6f\x6e\164\x65\156\x74"] = $split1[1]; goto naF8F; q32zB: $rlt["\162\x65\163\x70\x6f\x6e\163\145\154\151\156\145"] = !empty($split2[0]) ? $split2[0] : ''; goto wLs1S; kcLfL: $split1[1] = substr($data, $pos + 4, strlen($data)); goto eOD92; wESy3: $split1[0] = substr($data, 0, $pos); goto kcLfL; Eg20j: foreach ($header as $v) { goto jMUjE; zop2x: EtSDp: goto SDwt6; IpXBg: if (!(!$isgzip && strtolower($key) == "\x63\x6f\156\x74\145\156\x74\x2d\x65\156\143\157\x64\x69\x6e\x67" && strtolower($value) == "\x67\x7a\151\x70")) { goto ohNU9; } goto lpXqy; jNv4a: $key = substr($v, 0, $pos); goto WomIF; zsjtI: wf0WS: goto uTMhm; WomIF: $value = trim(substr($v, $pos + 1)); goto eJZxV; uTMhm: $temp = $rlt["\150\x65\x61\144\x65\x72\x73"][$key]; goto h2FEU; jExJZ: goto ynd8e; goto KrCyv; h2FEU: unset($rlt["\x68\145\141\x64\x65\x72\163"][$key]); goto ktSUU; eJZxV: if (is_array($rlt["\150\x65\141\x64\x65\162\x73"][$key])) { goto x9BMn; } goto SDAwm; jMUjE: $pos = strpos($v, "\x3a"); goto jNv4a; V3M20: $rlt["\150\145\x61\x64\145\x72\163"][$key] = $value; goto jExJZ; JCQYj: goto ynd8e; goto zsjtI; b2bx3: ynd8e: goto IpXBg; ktSUU: $rlt["\x68\x65\141\144\x65\x72\x73"][$key][] = $temp; goto d8cSD; SDAwm: if (!empty($rlt["\150\x65\141\144\145\162\x73"][$key])) { goto wf0WS; } goto V3M20; lpXqy: $isgzip = true; goto yzByv; d8cSD: $rlt["\x68\x65\x61\x64\x65\162\x73"][$key][] = $value; goto b2bx3; yzByv: ohNU9: goto zop2x; KrCyv: x9BMn: goto VAmU8; VAmU8: $rlt["\x68\145\x61\144\x65\x72\163"][$key][] = $value; goto JCQYj; SDwt6: } goto i8fkZ; B9MKr: xuTqO: goto Q4DdB; SUNOO: $rlt["\155\x65\x74\141"] = $data; goto FeHWU; i8fkZ: iE5Cc: goto gFZj8; AmF0W: $rlt["\163\164\141\x74\165\163"] = !empty($matches[3]) ? $matches[3] : "\x4f\x4b"; goto q32zB; wLs1S: $header = explode("\xd\xa", $split2[1]); goto MjhWS; Q4DdB: return $rlt; goto Gf6LX; spML0: $rlt["\143\x6f\144\x65"] = !empty($matches[2]) ? $matches[2] : 200; goto AmF0W; MjhWS: $isgzip = false; goto Eg20j; CXwex: $pos = strpos($data, "\15\xa\xd\xa"); goto wESy3; Gf6LX: } goto PCsjX; wxIyP: $accesstoken = we7_get_accesstoken(); goto J6eU7; qEAeZ: $user_result = we7_update_user($username, $password); goto ixfao; mePck: BzOYd: goto NiZnG; pRjjR: $source_size = $header_array["\x43\x6f\x6e\164\145\x6e\x74\x2d\114\x65\156\147\164\150"]; goto GxPss; sgfSo: we7_finish(); goto zoKmq; i0JMq: $actions = array("\x63\150\x65\143\x6b\x5f\x73\151\x74\145", "\x6f\141\165\x74\x68", "\145\x6e\166\x69\x72\157\x6e\155\145\156\x74", "\151\156\x73\164\141\x6c\154", "\x63\150\x75\156\x6b\164\157\x74\141\x6c", "\x64\x6f\167\x6e\154\157\x61\144\137\160\145\162\143\x65\156\x74", "\144\157\x77\156\x6c\x6f\x61\144", "\151\156\x73\x74\141\154\154", "\162\145\147\151\163\164\145\162\x5f\x63\141\x6c\154\142\141\143\153", "\x6c\157\147\151\x6e", "\147\x65\164\x5f\x73\151\x74\x65\153\x65\171"); goto AGUWh; bpxAu: $server["\x75\160\x6c\x6f\141\144"] = strtolower($server["\x75\160\x6c\157\x61\x64"]); goto Hw8EU; llCJd: $db_username = trim($_POST["\165\163\x65\162\x6e\x61\155\145"]); goto KEDp_; HAv7a: HvF8S: goto GB0kw; J5Yx1: D1jzx: goto AP_Wr; r2tvl: $ret["\x76\145\162\x73\x69\x6f\156"]["\162\x65\x73\165\x6c\x74"] = PHP_VERSION; goto bX9gk; l1xnq: $ret["\162\x6f\157\x74"]["\146\141\x69\x6c\145\144"] = true; goto wa4Ng; NLO55: define("\101\x50\x49\x5f\x4f\101\125\x54\110\x5f\x41\x43\103\x45\x53\123\124\x4f\113\x45\x4e", API_HOST . "\x2f\157\x61\x75\x74\x68\57\141\143\143\x65\x73\x73\x2d\164\157\153\145\x6e\57\x63\157\144\x65"); goto EFWf_; VA2Gk: if (!($action == "\157\141\165\x74\x68")) { goto P6s7M; } goto J7hS2; V7q1P: define("\101\x50\111\x5f\125\x50\x44\x41\x54\105\137\123\111\x54\x45\x4e\x41\115\x45", API_HOST . "\x2f\163\x69\x74\x65\x2f\x72\145\147\x69\163\164\145\162\57\x72\145\156\x61\x6d\145"); goto i0JMq; GxPss: we7_setcookie("\143\x64\156\x5f\163\x6f\165\162\x63\x65\x5f\x73\x69\172\145", $source_size); goto Ku3ZW; x81N3: if ($ret["\144\157\x6d"]["\x6f\x6b"]) { goto AcISP; } goto f8wCa; Jz6SM: $ret["\x73\145\163\x73\x69\x6f\156"]["\157\153"] = ini_get("\163\x65\163\163\151\x6f\x6e\56\141\x75\x74\157\x5f\x73\x74\x61\162\x74"); goto iTCeA; YiRnF: if (!($chunk_num == 1)) { goto QzwOy; } goto WhXWh; DLfrf: $result = file_put_contents("\x2e\x2f\x63\x68\165\156\153\137" . $chunk_num, $data); goto G0l4x; MUK1t: $ret["\x6e\x65\x74\167\157\x72\x6b\x5f\145\x6e\141\142\154\145\144"]["\146\141\x69\x6c\145\144"] = true; goto Xvch9; Tq1PW: if (!(file_exists($filename) && !empty($filesize))) { goto NH3NI; } goto mzC5N; Ct5OA: if (!($username != "\141\144\x6d\151\x6e" || $password != "\61\x32\x33\64\x35\x36")) { goto RxmLx; } goto qEAeZ; aRGJ2: if (!($action == "\143\150\145\143\153\137\163\151\164\x65")) { goto zHCnS; } goto S_3Yf; VkrFq: exit(we7_error(433, "\x61\x63\x63\x65\x73\x73\x74\x6f\153\145\156\x20\145\170\160\x69\x72\x65\x64\x2e")); goto Wmowd; XJApg: goto v5ux_; goto fFrPT; yf6XL: $ret["\x76\145\162\163\151\157\156"]["\156\141\155\x65"] = "\x50\110\120\347\211\210\xe6\x9c\254"; goto r2tvl; m8M97: foreach (we7_need_extension() as $extension) { goto bvRPe; JyETD: $ret[$extension]["\x72\x65\x73\x75\x6c\x74"] = "\344\xb8\215\xe6\x94\xaf\346\x8c\x81" . $extension; goto veoAi; veoAi: BKdrL: goto rendN; lx5tC: $ret[$extension]["\x6e\x61\x6d\x65"] = $extension . "\xe6\211\251\345\261\x95"; goto JyETD; RPPcB: $ret[$extension]["\x66\x61\x69\x6c\x65\144"] = true; goto lx5tC; bvRPe: $if_ok = extension_loaded($extension); goto WN0gq; WN0gq: if ($if_ok) { goto BKdrL; } goto RPPcB; rendN: OISf8: goto YQ2qE; YQ2qE: } goto mJQvf; umLn3: require IA_INSTALL_ROOT . "\57\146\x72\141\155\145\x77\157\162\x6b\57\x62\x6f\x6f\x74\163\164\162\x61\160\x2e\x69\x6e\143\56\160\x68\160"; goto OV0Ih; AK6Gn: goto BeCqR; goto mPiHS; I10iY: CtdgT: goto EW9aB; AjaaA: exit(we7_error(400, "\143\150\165\x6e\153\xe5\xa4\xa7\xe4\xba\x8e\346\x9c\200\xe5\xa4\xa7\xe5\x80\xbc")); goto IGqpj; J7hS2: $code = trim($_GET["\143\157\x64\x65"]); goto VMLvX; XR6F0: QZ5E6: goto VkrFq; dpPqM: $output = fread($hostfile, 8192); goto iXmah; I2cHv: exit(we7_error(0, "\x73\x75\143\x63\145\163\163")); goto JUkJK; JYaxN: exit(we7_error(421, "\345\xae\211\350\243\x85\xe5\214\205\344\270\215\xe5\256\x8c\346\x95\264\56")); goto FzkEy; sGP7z: $ret["\165\x70\x6c\157\x61\144"]["\x72\x65\163\165\154\164"] = $server["\x75\x70\x6c\157\141\144"]; goto GVfMd; Wmowd: BLolv: goto lspiF; lspiF: q0p9n: goto dzYA8; Jq4uu: $header_array = get_headers($cdn_source_file, 1); goto pRjjR; ozLuc: function local_mkdirs($path) { goto ycgGf; n7o83: local_mkdirs(dirname($path)); goto jdSk8; UHPmM: SIafZ: goto L53P7; jdSk8: mkdir($path); goto UHPmM; L53P7: return is_dir($path); goto iZcgy; ycgGf: if (is_dir($path)) { goto SIafZ; } goto n7o83; iZcgy: } goto J3gjF; WzqXw: iykkL: goto bR_kE; a974p: exit(we7_error(434, $result)); goto J0KiU; X7xta: HAXjY: goto KCAbQ; G88Ro: $ret["\141\x6c\167\141\x79\163\x5f\x70\157\160\x75\154\141\164\145\x5f\x72\141\x77\x5f\x70\157\163\x74\137\144\141\x74\141"]["\162\145\163\x75\x6c\x74"] = @ini_get("\141\x6c\167\141\x79\163\x5f\160\157\x70\x75\154\x61\164\145\137\x72\x61\167\x5f\x70\157\163\164\137\x64\141\x74\x61"); goto B3O7Z; n1EJB: if (!(version_compare(PHP_VERSION, "\x35\x2e\63\x2e\60") == -1)) { goto ckkqz; } goto eFboO; ee6dF: if (empty($result)) { goto M6eCi; } goto a974p; Bn0Du: $output = fread($hostfile, 8192); goto oxYSk; b1iL4: exit(we7_error(400, "\xe6\x95\xb0\xe6\215\xae\351\x94\x99\xe8\xaf\257\x2e")); goto stXVB; At52J: vxrgB: goto BinlH; ZwFrs: $server = trim($_POST["\x73\145\x72\166\x65\162"]); goto llCJd; G0l4x: if ($result) { goto jqrE_; } goto jEQVq; cXiiU: LekA7: goto X7xta; BlsFm: szmoq: goto WcedE; iFlYm: twFCu: goto NqtDu; Zzkh8: we7_setcookie("\x72\145\x67\x69\x73\x74\x65\x72\x65\144\x5f\x73\151\164\x65", 1); goto Es9P2; OZLzZ: K81xE: goto t9Vfy; OV0Ih: $site = array("\x6b\x65\x79" => $auth["\153\x65\x79"], "\164\x6f\153\145\x6e" => $auth["\x74\157\x6b\x65\156"], "\165\162\154" => $siteroot); goto eX23P; SlBpy: if (!(is_array($data) && isset($data["\x65\162\162\157\162"]))) { goto q0p9n; } goto E3cBh; NOynZ: JILur: goto Fo8ge; yHY1q: exit(we7_error(419, $database_result)); goto FMryi; PStrK: define("\101\120\x49\x5f\123\x49\124\x45\x5f\x52\x45\107\111\x53\124\x45\x52\137\105\x58\x49\x53\124", API_HOST . "\57\163\x69\x74\x65\x2f\x72\x65\147\x69\163\164\145\162\57\x65\x78\151\163\x74"); goto RPKtb; ixI3Y: QzwOy: goto ni3bE; W2hVT: if (is_array($data) && isset($data["\x65\162\x72\157\x72"])) { goto aMCse; } goto uy6GC; fsjwb: $db_name = trim($_POST["\x6e\141\x6d\145"]); goto d3zbD; ZjJTo: $ret["\x64\141\x74\141"]["\157\153"] = local_writeable(IA_INSTALL_ROOT . "\x2f\x64\141\164\141"); goto nS53s; fGETy: error_reporting(0); goto Z0x0g; M3BkX: function we7_get_accesstoken() { goto KoztQ; xZKt3: return ''; goto RClxf; c5wyv: if (!(!empty($accesstoken) && !empty($accesstoken["\141\143\x63\145\163\163\124\x6f\153\x65\x6e"]) && $accesstoken["\x65\x78\160\151\x72\x65\x54\151\x6d\x65"] > time())) { goto N1l9f; } goto dnnFc; dnnFc: return $accesstoken["\x61\x63\x63\x65\163\163\x54\x6f\153\145\156"]; goto AeITm; AeITm: N1l9f: goto xZKt3; JmVuf: $accesstoken = json_decode($cookie_accesstoken, true); goto c5wyv; KoztQ: $cookie_accesstoken = we7_getcookie("\x61\143\143\x65\x73\163\164\157\x6b\145\x6e"); goto JmVuf; RClxf: } goto IB44u; XhzDR: exit(we7_error(430, $register_site_result)); goto xdR4T; Xvch9: $ret["\156\x65\164\167\x6f\162\153\x5f\145\156\x61\x62\154\x65\144"]["\156\x61\x6d\145"] = "\xe5\244\226\xe7\xbd\x91\xe5\217\xaf\xe8\256\xbf\351\x97\256\xe6\200\247"; goto CIVJ_; rVH7R: $ret["\x61\x6c\x77\141\x79\x73\137\160\x6f\x70\165\x6c\x61\164\x65\x5f\x72\141\167\x5f\160\x6f\x73\x74\x5f\x64\141\164\141"]["\156\x61\155\145"] = "\141\x6c\167\x61\x79\x73\137\160\x6f\x70\x75\x6c\141\164\145\x5f\x72\141\x77\x5f\x70\157\x73\164\x5f\x64\x61\164\141\xe9\x85\x8d\347\275\xae"; goto G88Ro; l6x39: exit; goto JBStP; Az180: if (!empty($data) && $data["\163\164\x61\x74\165\163"] == 1) { goto xiJWx; } goto LGWLz; ckJ_C: $post = array("\x61\x63\x63\x65\x73\x73\137\x74\157\x6b\x65\x6e" => $accesstoken, "\143\150\x75\x6e\153" => $chunk_num); goto xhJ4E; oKs5F: $ret["\141\163\160\x5f\164\x61\147\x73"]["\x72\x65\x73\x75\x6c\x74"] = "\x61\x73\x70\137\x74\141\147\163\345\xbc\200\345\x90\257\xe7\x8a\xb6\346\200\201"; goto Qwb07; WQ4hr: $finished = false; goto NJjmn; Tl5ra: uylql: goto eMXhu; d3zbD: $db_prefix = trim($_POST["\x70\162\145\146\x69\x78"]); goto RmuYm; M2NQ8: v5ux_: goto oXzoc; yzMs0: if (!(is_array($data) && isset($data["\145\x72\162\x6f\162"]))) { goto JvjAY; } goto bojsF; PkUtM: UdyLF: goto OjbEj; cGGvL: if ($data["\145\x72\162\157\x72"] == 401) { goto Eq1sK; } goto cR7SW; uy6GC: we7_setcookie("\x70\141\143\x6b\x61\147\145\137\x6d\144\x35", $data["\155\x64\65"]); goto JaX6E; k17ro: if (!(!file_exists(IA_INSTALL_ROOT . "\57\144\x61\164\141\57\x69\x6e\x73\x74\141\x6c\154\56\154\x6f\143\x6b") && !$registered_site)) { goto aCp53; } goto Z0J59; iRW9L: NH3NI: goto ckJ_C; mxCle: if (!($chunk_num > $chunk_total)) { goto THEuE; } goto AjaaA; aVmMF: AcISP: goto Jz6SM; mgB9r: function we7_register_site() { goto o5lZD; Efyxj: return $data["\145\162\162\x6f\x72"]; goto MKSqR; u2_jt: if (is_array($data) && isset($data["\145\x72\162\x6f\x72"])) { goto ZWYey; } goto n9zRT; o5lZD: global $siteroot, $accesstoken; goto ccHO3; ccHO3: define("\111\116\137\x49\x41", true); goto ip9qi; KAvMA: $post = array("\x61\x63\x63\145\163\163\x5f\164\x6f\x6b\x65\x6e" => $accesstoken, "\x6e\x61\155\x65" => $siteroot . "\347\232\204\xe7\xab\231\347\202\271", "\x75\162\x6c" => $siteroot, "\166\145\x72\x73\x69\x6f\156" => $version, "\x72\x65\154\x65\141\x73\x65" => $release, "\x63\x61\x6c\154\142\x61\x63\153" => $callback, "\151\156\163\x74\x61\x6c\154\x5f\x74\171\x70\145" => 1); goto jAe3e; oAd0_: $callback = urlencode($siteroot . "\x2f\x69\x6e\x73\x74\x61\154\x6c\56\x70\150\160\77\x73\x74\145\x70\75\x72\x65\x67\151\x73\x74\x65\x72\x5f\143\141\x6c\154\142\141\x63\153"); goto KAvMA; n9zRT: return true; goto J05PP; jAe3e: $data = we7_request_api(API_OAUTH_REGISTER_SITE, $post); goto u2_jt; ip9qi: require IA_INSTALL_ROOT . "\57\146\x72\x61\155\145\x77\157\162\x6b\57\x76\x65\162\163\151\157\156\x2e\x69\156\x63\x2e\160\150\x70"; goto Hoo48; ccZSY: ZWYey: goto Efyxj; ClcJU: $release = IMS_RELEASE_DATE; goto oAd0_; Hoo48: $version = IMS_VERSION; goto ClcJU; J05PP: goto ZKprG; goto ccZSY; MKSqR: ZKprG: goto szPV7; szPV7: } goto zKie1; NqtDu: F93Dg: goto Ct5OA; lD35K: exit; goto mePck; PvjRu: if (!(!empty($ret["\x61\x73\x70\137\164\x61\147\163"]["\x6f\153"]) && strtolower($ret["\x61\163\x70\137\164\x61\147\x73"]["\x6f\153"]) == "\x6f\156")) { goto MRm5r; } goto FstTS; ExdqK: $ret["\x61\163\160\x5f\164\x61\147\163"]["\x6f\x6b"] = ini_get("\141\x73\160\x5f\x74\x61\147\x73"); goto PvjRu; uEkiQ: Msgpy: goto ZjJTo; golAq: $action = "\143\x68\x65\x63\153\137\163\151\164\145"; goto JxgIv; IGqpj: THEuE: goto Y_bou; BinlH: if (we7_network_enable($_SERVER["\110\x54\124\x50\137\110\x4f\x53\x54"])) { goto F6AgA; } goto MUK1t; GB0kw: if (feof($hostfile)) { goto szmoq; } goto dpPqM; zoKmq: if (!($sitename != $siteroot . "\347\232\204\xe7\xab\231\347\202\271")) { goto F93Dg; } goto k0YFG; yvPDK: yr7JF: goto m8M97; S_3Yf: $data = we7_request_api(API_SITE_REGISTER_EXIST, array("\165\162\154" => $siteroot)); goto Az180; Ku3cF: header("\x63\157\156\x74\x65\156\x74\x2d\x74\x79\160\x65\72\x74\x65\x78\x74\57\x68\164\155\x6c\73\143\x68\141\x72\163\x65\164\75\x75\164\x66\55\70"); goto iFIsr; JaX6E: we7_setcookie("\x63\150\x75\156\153\x5f\x74\157\x74\141\154", $data["\x63\150\165\156\x6b\137\x74\x6f\164\141\154"]); goto BT5IX; HJMD8: exit(we7_error(400, "\xe8\257\xb7\351\207\x8d\346\226\260\xe7\231\273\xe5\275\225\x2e")); goto EBAP6; oxYSk: fwrite($fh, $output); goto BZ8Ko; vZJQV: if (!($action == "\x64\x6f\x77\x6e\x6c\x6f\x61\x64\x5f\x70\145\162\x63\145\x6e\x74")) { goto uylql; } goto r3Gco; YHtgo: $cdn_source_file = "\150\x74\x74\x70\163\x3a\57\x2f\143\144\x6e\56\x77\x37\56\143\143\57\x64\x6f\x77\x6e\154\x6f\141\144\57\x69\156\163\x74\x61\154\x6c\x2e\172\151\160\77\x76\x3d" . time(); goto wxIyP; RPKtb: define("\x41\120\x49\137\x4f\101\x55\124\x48\x5f\x4c\x4f\x47\x49\116\137\x55\x52\x4c", API_HOST . "\x2f\157\x61\x75\x74\x68\57\x6c\x6f\x67\151\x6e\55\165\162\x6c\57\151\156\144\145\x78"); goto NLO55; n5IjI: foreach ($ret as $key => $value) { goto Stv12; Stv12: if (!(version_compare(PHP_VERSION, "\x37\56\x30\x2e\60") >= 0 && in_array($key, array("\155\x63\x72\171\x70\x74", "\x61\154\x77\141\x79\x73\137\160\157\x70\x75\x6c\x61\164\x65\137\162\141\167\137\160\157\163\x74\137\144\141\x74\x61")))) { goto eZTi6; } goto u0NTU; u0NTU: goto MH4WT; goto Lyghi; Lyghi: eZTi6: goto cbbWl; tXUmK: MH4WT: goto DRL0X; jC4j9: $result[] = $value; goto utJNO; db39y: $value["\x68\x61\156\144\154\x65"] = !empty($value["\150\x61\x6e\144\154\145"]) ? $value["\x68\141\156\144\x6c\x65"] : "\150\x74\x74\160\72\57\57\163\56\167\67\56\143\x63\x2f\167\157\57\x70\x72\x6f\142\154\x65\x6d\57\64\x36"; goto jC4j9; utJNO: Ripad: goto tXUmK; cbbWl: if (!$value["\x66\141\151\154\x65\144"]) { goto Ripad; } goto db39y; DRL0X: } goto oaLHC; M0KvM: function local_salt($length = 8) { goto fnee_; VNA6s: $result = substr(str_shuffle($strs), mt_rand(0, strlen($strs) - ($length + 1)), $length); goto CNLDv; fnee_: $strs = "\101\102\103\x44\x45\x46\x47\110\111\112\113\x4c\x4d\x4e\x4f\120\x51\x52\x53\x54\x55\x56\x57\x58\131\132\141\x62\x63\144\x65\146\147\150\x69\152\153\x6c\x6e\155\x6f\x70\x71\162\163\x74\165\166\167\170\171\x7a\60\61\x32\x33\64\x35\66\x37\70\x39"; goto VNA6s; CNLDv: return $result; goto iMGFM; iMGFM: } goto TiUNN; BMjHw: $forward = $data["\165\162\154"]; goto GwXX4; JH6EY: exit(we7_error(0, "\x73\165\143\x63\x65\x73\163")); goto f6d8U; bR_kE: fclose($hostfile); goto NSQeF; AP_Wr: if (!($finished === true)) { goto HAXjY; } goto FzPwN; Z0J59: $register_site_result = we7_register_site(); goto W77Wz; iFIsr: echo "\x3c\41\x64\157\143\164\x79\x70\x65\x20\150\164\155\154\x3e\15\12\x3c\150\x74\x6d\x6c\x20\x6c\x61\x6e\147\75\x22\x65\x6e\42\76\xd\xa\x3c\150\145\141\x64\76\15\xa\x20\40\74\x6d\x65\164\x61\40\x63\150\141\162\x73\145\x74\x3d\42\165\x74\146\55\x38\x22\76\15\xa\40\x20\x3c\164\151\x74\154\145\76\127\x65\67\x49\156\163\164\141\154\x6c\x3c\x2f\x74\x69\164\x6c\145\76\xd\xa\x20\x20\74\142\141\x73\x65\x20\150\162\x65\146\75\42" . $sitepath . "\x2f\151\x6e\x73\164\141\154\154\x2e\160\150\160\x22\76\15\12\15\12\40\x20\x3c\155\145\164\141\x20\156\x61\155\145\x3d\x22\x76\151\145\167\160\157\162\164\42\x20\x63\x6f\156\164\145\x6e\x74\x3d\x22\167\151\x64\x74\150\75\x64\x65\x76\x69\143\145\55\x77\x69\x64\164\150\x2c\40\151\x6e\x69\164\151\x61\x6c\x2d\x73\143\x61\154\x65\75\61\42\x3e\xd\12\x20\40\x3c\154\151\156\153\x20\162\x65\x6c\x3d\42\x69\x63\157\x6e\42\40\164\x79\x70\x65\x3d\42\x69\x6d\141\147\145\57\x78\x2d\x69\143\157\x6e\x22\x20\x68\162\145\x66\75\x2f\57\143\x64\x6e\x2e\167\67\56\143\x63\x2f\x77\145\x37\55\x69\156\163\164\141\154\154\x2f\146\141\x76\151\143\x6f\x6e\56\x69\143\x6f\42\76\15\xa\74\x6c\x69\156\x6b\x20\162\145\x6c\x3d\42\x73\164\171\x6c\x65\163\x68\x65\145\x74\42\x20\x68\x72\x65\x66\x3d\x22\57\x2f\143\144\156\56\167\67\x2e\x63\x63\57\165\x65\x64\57\x77\145\67\x2d\151\x6e\x73\164\141\154\154\57\x73\x74\x79\x6c\145\163\56\x63\163\x73\x3f\166\75" . time() . "\x22\x3e\x3c\x2f\x68\x65\141\144\76\15\xa\x3c\x62\x6f\144\171\x3e\15\12\40\40\74\141\160\x70\x2d\x72\157\x6f\x74\76\74\x2f\x61\x70\x70\x2d\162\157\x6f\x74\x3e\xd\12\x3c\163\143\x72\x69\x70\x74\x20\164\x79\160\x65\x3d\42\164\145\170\164\x2f\152\x61\x76\141\x73\x63\162\151\x70\x74\x22\40\x73\x72\x63\75\42\57\x2f\x63\x64\x6e\56\167\x37\x2e\x63\x63\57\165\x65\x64\x2f\x77\145\x37\x2d\151\x6e\163\164\141\x6c\154\x2f\162\165\156\164\151\x6d\x65\56\152\x73\x3f\166\x3d" . time() . "\x22\x3e\74\x2f\x73\143\162\151\160\x74\76\x3c\x73\143\162\151\x70\x74\x20\164\x79\x70\x65\75\42\164\145\170\x74\57\x6a\141\x76\x61\x73\143\162\x69\x70\164\x22\40\163\162\143\x3d\42\57\x2f\x63\144\156\x2e\x77\67\x2e\x63\143\x2f\165\x65\x64\57\167\145\67\x2d\151\x6e\x73\x74\141\154\154\x2f\160\x6f\154\x79\x66\x69\154\154\x73\x2e\x6a\163\77\x76\75" . time() . "\x22\x3e\74\57\163\143\x72\x69\x70\x74\76\74\163\143\162\151\160\164\40\x74\171\160\x65\75\42\x74\x65\170\x74\57\x6a\x61\166\x61\x73\x63\162\x69\x70\x74\42\40\163\162\x63\x3d\42\57\x2f\x63\144\x6e\56\x77\x37\56\143\143\57\x75\x65\144\x2f\x77\145\67\x2d\x69\156\163\x74\141\154\154\57\x6d\141\151\156\56\x6a\163\x3f\x76\75" . time() . "\42\x3e\74\57\x73\143\162\x69\160\164\76\x3c\x2f\142\x6f\144\x79\76\xd\12\74\57\150\164\x6d\154\76"; goto B654Z; pVD3h: mmIf3: goto Lv1yP; zKPKf: $ret["\x73\x65\163\163\x69\157\156"]["\x66\141\x69\154\145\x64"] = true; goto wfpnX; nS53s: if ($ret["\x64\141\x74\x61"]["\x6f\153"]) { goto yr7JF; } goto DyLRd; JX6Ol: function we7_db() { goto ofXId; KiIac: $cookie["\x75\x69\144"] = $link->lastInsertId(); goto WqB3c; Ad_oH: return true; goto OgOSt; ofXId: global $is_https; goto t1l56; dvkPb: return "\345\xae\211\xe8\243\x85\xe5\x8c\205\xe4\xb8\x8d\xe6\255\xa3\xe7\xa1\256\x2e"; goto tyVOJ; AuEox: setcookie("{$cookiepre}\137\137\x73\145\163\163\x69\157\156", $session, 0, "\57", '', $secure, true); goto Ad_oH; cG3PP: $dat = (require $dbfile); goto N6zqV; lboFX: $link->exec("\123\105\124\x20\x63\150\x61\x72\141\143\164\145\x72\x5f\x73\x65\x74\137\x63\157\x6e\156\145\143\164\151\x6f\156\x3d\165\164\x66\x38\x2c\40\x63\150\141\162\141\143\164\145\x72\137\x73\145\164\x5f\x72\x65\163\x75\154\x74\163\75\165\164\146\x38\54\40\143\x68\141\162\141\143\164\x65\162\x5f\163\x65\x74\x5f\x63\x6c\151\145\x6e\164\x3d\x62\151\156\141\162\171"); goto TLt7o; BatwJ: $link = new PDO("\x6d\171\163\161\x6c\72\144\142\156\x61\x6d\145\75{$db["\x6e\141\155\x65"]}\x3b\x68\x6f\x73\164\x3d{$db["\x73\x65\162\166\x65\162"]}\x3b\x70\x6f\162\164\75{$db["\160\157\x72\x74"]}", $db["\165\163\145\162\x6e\141\x6d\145"], $db["\160\141\x73\163\x77\x6f\162\144"]); goto lboFX; tyVOJ: goto Qb17v; goto DvwCD; aa4D3: foreach ($all_engines as $engine) { goto AMerp; QUz_3: $support_innodb = true; goto GleRH; GleRH: w2o2O: goto GHspJ; GHspJ: DeVuZ: goto xyVL1; AMerp: if (!(strtolower($engine["\x45\x6e\x67\151\156\145"]) == "\151\156\x6e\x6f\x64\x62" && in_array(strtolower($engine["\x53\165\x70\160\x6f\162\164"]), array("\144\x65\x66\141\x75\154\x74", "\x79\x65\x73")))) { goto w2o2O; } goto QUz_3; xyVL1: } goto VLaDj; LAiA2: $user = array("\x75\x73\145\162\x6e\x61\x6d\145" => "\141\144\x6d\151\x6e", "\160\141\163\x73\167\x6f\x72\x64" => "\x31\62\63\x34\65\x36"); goto zd8lt; SG4Ez: $all_engines = $engines->fetchAll(); goto aa4D3; DvwCD: MrWIQ: goto cG3PP; ofj5E: $db = array("\x73\x65\x72\x76\145\x72" => $config["\144\x62"]["\155\141\x73\164\145\x72"]["\x68\157\x73\x74"], "\160\x6f\162\x74" => $config["\144\x62"]["\x6d\x61\x73\x74\x65\162"]["\160\x6f\162\x74"], "\165\163\145\162\156\141\155\x65" => $config["\x64\142"]["\x6d\141\163\164\145\162"]["\x75\x73\145\x72\x6e\x61\x6d\145"], "\x70\x61\163\x73\167\x6f\162\x64" => $config["\x64\x62"]["\x6d\141\x73\164\145\162"]["\x70\x61\x73\x73\x77\x6f\x72\x64"], "\x70\x72\x65\x66\151\x78" => $config["\144\x62"]["\x6d\141\163\x74\x65\x72"]["\164\x61\142\x6c\145\160\x72\x65"], "\156\x61\x6d\x65" => $config["\x64\142"]["\155\141\163\x74\x65\162"]["\x64\141\164\141\x62\x61\x73\145"]); goto dtKSm; TLt7o: $link->exec("\x53\x45\x54\x20\x73\x71\154\137\x6d\157\x64\145\x3d\x27\x27"); goto tG9fK; xsJ3x: $authkey = $config["\163\145\164\164\151\x6e\x67"]["\141\165\164\150\153\145\x79"]; goto BatwJ; N6zqV: if (!(empty($dat) || !is_array($dat))) { goto fyJsR; } goto XNZv_; lf4hR: $cookie = array("\154\x61\163\x74\166\x69\163\151\x74" => '', "\154\x61\x73\164\x69\160" => ''); goto KiIac; zd8lt: $salt = local_salt(8); goto jUR1R; WqB3c: $cookie["\150\x61\163\x68"] = md5($password . $salt); goto UoKGp; XNZv_: return "\xe5\xae\x89\xe8\243\205\xe5\x8c\x85\344\270\215\346\255\xa3\xe7\241\256\54\x20\346\x95\260\346\215\xae\xe5\256\211\350\243\205\xe8\x84\x9a\xe6\x9c\254\xe7\xbc\272\xe5\244\261\x2e"; goto EhHT5; t1l56: define("\x49\116\x5f\x49\101", true); goto D950v; XwRZJ: $link->exec("\x49\x4e\x53\105\122\x54\x20\x49\x4e\x54\x4f\x20{$db["\160\x72\145\x66\151\170"]}\x75\163\145\162\163\40\50\x75\x73\x65\162\156\141\155\145\54\x20\x70\141\x73\163\167\x6f\x72\144\x2c\40\163\141\154\164\54\x20\152\157\151\156\144\141\x74\145\54\x20\x67\x72\x6f\x75\x70\x69\144\54\x20\x73\164\x61\x74\165\163\x2c\x20\146\157\x75\156\144\x65\162\x5f\x67\x72\x6f\x75\160\151\x64\x2c\40\x69\163\137\142\x69\156\144\x29\x20\x56\x41\x4c\x55\105\123\50\x27{$user["\165\163\x65\162\x6e\141\x6d\x65"]}\x27\54\x20\47{$password}\x27\x2c\40\x27{$salt}\x27\54\40\x27" . time() . "\x27\54\40\61\54\x20\62\x2c\40\x31\x2c\40\x30\x29"); goto lf4hR; xfw2N: DK_FM: goto RjUfa; dtKSm: $cookiepre = $config["\x63\x6f\x6f\153\151\x65"]["\160\x72\x65"]; goto xsJ3x; tG9fK: $dbfile = IA_INSTALL_ROOT . "\57\144\x61\164\x61\57\144\142\x2e\160\150\160"; goto J64s4; ZDCcN: $support_innodb = false; goto EoICV; jUR1R: $password = sha1("{$user["\x70\x61\163\163\167\x6f\x72\144"]}\55{$salt}\x2d{$authkey}"); goto XwRZJ; VLaDj: PR4mc: goto fdehf; EhHT5: fyJsR: goto ZDCcN; h_gY_: swfnk: goto eP6os; UoKGp: $session = install_authcode(json_encode($cookie), "\x65\156\x63\157\x64\145", $authkey); goto j06Xh; RjUfa: foreach ($dat["\x64\141\164\x61\x73"] as $data) { local_run($data, $link, $db); Rw8H9: } goto h_gY_; D950v: require IA_INSTALL_ROOT . "\57\x64\141\164\x61\x2f\143\x6f\156\146\151\147\56\x70\x68\x70"; goto ofj5E; J64s4: if (file_exists(IA_INSTALL_ROOT . "\x2f\151\x6e\144\x65\170\56\160\x68\160") && is_dir(IA_INSTALL_ROOT . "\x2f\x77\x65\142") && file_exists(IA_INSTALL_ROOT . "\x2f\x66\x72\x61\x6d\145\167\157\x72\153\x2f\x76\145\162\163\x69\157\156\x2e\151\156\143\x2e\x70\x68\x70") && file_exists($dbfile)) { goto MrWIQ; } goto dvkPb; eP6os: Qb17v: goto LAiA2; j06Xh: $secure = $is_https ? 1 : 0; goto AuEox; fdehf: foreach ($dat["\x73\x63\150\145\155\x61\163"] as $schema) { goto o9XzU; zP24S: tq8K8: goto ZPsH2; UWn9b: local_run($sql, $link, $db); goto zP24S; o9XzU: $sql = local_create_sql($schema, $support_innodb); goto UWn9b; ZPsH2: } goto xfw2N; EoICV: $engines = $link->query("\x53\x48\117\x57\40\x45\x4e\107\111\116\105\123\x3b"); goto SG4Ez; OgOSt: } goto mgB9r; MGLb0: OJb5R: goto XAl1x; iXmah: fwrite($fh, $output); goto foOd6; E3cBh: if ($data["\x65\162\162\x6f\162"] == 401) { goto QZ5E6; } goto YRr65; BQQw8: $dbfile = IA_INSTALL_ROOT . "\57\144\x61\x74\141\57\144\x62\56\160\x68\x70"; goto OTP5E; MqTBR: exit(we7_error(400, $chunk_num)); goto GS_FG; aybsu: $chunk_num = max(1, intval($_POST["\x63\x68\165\156\153"])); goto UHQyE; q7vXI: exit(we7_error(0, "\163\x75\143\x63\145\163\163")); goto OZLzZ; pDYrh: $ret["\x72\x6f\x6f\164"]["\x72\x65\163\165\x6c\164"] = "\xe6\234\254\xe5\234\xb0\347\x9b\256\345\xbd\x95\346\227\xa0\xe6\263\x95\xe5\206\x99\xe5\205\245"; goto uEkiQ; NSQeF: we7_handle_chunk(); goto GqTaz; oaLHC: AOj08: goto ee6dF; jWNHw: $ret["\x64\157\155"]["\x6e\141\155\x65"] = "\104\117\x4d\x44\157\x63\165\x6d\x65\156\x74"; goto xtDEo; yar3T: KbDCN: goto orj_u; CCyuC: $ret["\162\x6f\x6f\x74"]["\x6f\x6b"] = local_writeable(IA_INSTALL_ROOT); goto gpFq5; emXux: dBpYW: goto b1iL4; OqPsy: function we7_need_extension() { return array("\172\x69\160", "\160\144\x6f", "\x70\144\x6f\137\x6d\171\163\x71\154", "\157\160\145\156\163\163\x6c", "\147\x64", "\x6d\142\163\164\x72\x69\x6e\147", "\x6d\x63\x72\x79\160\x74", "\x63\165\x72\154"); } goto M3BkX; v0MEL: $ret["\x61\x6c\x77\x61\x79\163\x5f\160\157\x70\x75\154\141\x74\x65\137\x72\141\x77\x5f\160\x6f\x73\164\x5f\x64\141\x74\141"]["\146\141\x69\x6c\145\144"] = @ini_get("\x61\x6c\x77\141\x79\163\137\x70\157\x70\x75\154\x61\164\145\x5f\162\141\x77\137\160\x6f\163\164\x5f\144\x61\x74\141") != "\x2d\61"; goto rVH7R; cfVH2: exit(we7_error(432, "\xe8\257\xb7\345\205\x88\350\x8e\xb7\345\217\226\345\x88\206\xe5\x8d\267\xe6\x80\273\351\x87\217\56")); goto qzk_2; LTYeP: function we7_update_user($username, $password) { goto RRw94; Ne_8c: $userinfo = pdo_get("\165\163\145\x72\x73", array("\x75\163\145\x72\156\x61\155\x65" => "\141\144\155\x69\x6e")); goto BABTq; BABTq: $password = user_hash($password, $userinfo["\163\141\154\x74"]); goto k5Et8; ENoUe: setcookie($_W["\x63\x6f\x6e\x66\151\147"]["\x63\x6f\x6f\x6b\151\x65"]["\x70\162\x65"] . "\137\x5f\x73\145\x73\163\x69\x6f\156", $session, 0, "\57", '', $secure, true); goto OX_Q3; GWaKf: $cookie = array("\154\x61\163\x74\166\x69\x73\151\x74" => '', "\x6c\x61\163\164\151\160" => ''); goto gXyBj; MBQjT: load()->model("\165\x73\x65\162"); goto Ne_8c; VZQ_g: $cookie["\x68\x61\x73\150"] = md5($password . $userinfo["\x73\141\x6c\164"]); goto OVXoy; OX_Q3: return $result ? true : false; goto iph2M; OVXoy: $session = install_authcode(json_encode($cookie), "\x65\x6e\143\x6f\144\145", $_W["\x63\157\x6e\146\151\147"]["\x73\x65\164\164\151\x6e\x67"]["\141\x75\164\x68\x6b\x65\x79"]); goto NcHUe; RRw94: global $_W, $is_https; goto MBQjT; gXyBj: $cookie["\165\151\144"] = $userinfo["\165\151\x64"]; goto VZQ_g; k5Et8: $result = pdo_update("\x75\x73\x65\x72\x73", array("\x75\163\145\x72\156\x61\155\x65" => $username, "\160\x61\163\x73\167\x6f\162\144" => $password), array("\x75\x69\144" => $userinfo["\x75\x69\144"])); goto GWaKf; NcHUe: $secure = $is_https ? 1 : 0; goto ENoUe; iph2M: } goto dlWHT; y0zDH: function we7_update_sitename($sitename) { goto p2q8m; KJatn: $site_info = setting_load("\163\151\x74\x65"); goto NTJ5D; tf0Dy: HOyDl: goto C_m_m; NTJ5D: if (!(empty($site_info["\x73\151\164\145"]) || empty($site_info["\x73\151\x74\x65"]["\153\145\171"]))) { goto HOyDl; } goto iejnD; p2q8m: global $accesstoken, $_W; goto KJatn; iejnD: return "\347\xab\x99\xe7\202\271\xe4\277\241\346\x81\xaf\xe4\xb8\215\xe5\xad\230\345\x9c\250\xef\274\x8c\xe8\257\xb7\351\x87\215\xe6\226\xb0\346\263\xa8\xe5\x86\x8c\347\253\231\xe7\x82\271\x2e"; goto tf0Dy; C_m_m: $data = we7_request_api(API_UPDATE_SITENAME, array("\141\143\x63\145\x73\163\137\x74\157\153\145\x6e" => $accesstoken, "\163\x69\164\x65\137\x6e\x61\155\145" => $sitename, "\x73\151\x74\x65\137\x6b\x65\x79" => $site_info["\163\151\x74\145"]["\x6b\145\171"])); goto rCMgo; rm2Jp: LzXD0: goto ajQZp; cu3DI: goto LHcxr; goto rm2Jp; k4n9M: return true; goto cu3DI; ajQZp: return $data["\x65\162\x72\157\x72"]; goto wgB9A; rCMgo: if (is_array($data) && isset($data["\x65\x72\162\x6f\x72"])) { goto LzXD0; } goto k4n9M; wgB9A: LHcxr: goto dX2jV; dX2jV: } goto LTYeP; wfpnX: $ret["\163\x65\163\163\x69\x6f\x6e"]["\x6e\141\155\145"] = "\163\145\x73\x73\151\157\156\56\141\165\164\x6f\137\x73\x74\x61\x72\164\345\274\x80\xe5\220\xaf"; goto pLOx7; eMXhu: if (!($action == "\x64\x6f\x77\x6e\154\157\141\x64")) { goto JfH1l; } goto aybsu; orj_u: $ret["\x64\157\155"]["\157\x6b"] = class_exists("\x44\117\115\104\x6f\143\165\155\145\156\164"); goto x81N3; uImrN: rename("\151\156\163\x74\x61\x6c\x6c\x2e\160\x68\x70", "\151\156\x73\164\x61\154\154\56\x70\x68\x70\56\142\x61\153"); goto W9XXr; stXVB: n7HXo: goto Ku3cF; CqCMa: $finished = true; goto oGO0E; R9vMK: define("\103\117\x4f\x4b\x49\105\x5f\120\122\105", "\x77\x65\67\x69\x6e\x73\164\141\x6c\154\x5f"); goto AUmAj; s1vK2: header("\114\x6f\143\x61\164\x69\157\x6e\72\x20" . $siteroot . "\57\x69\x6e\163\x74\x61\154\x6c\56\x70\x68\160"); goto h3rSU; umB3R: $siteroot = htmlspecialchars(($is_https ? "\x68\x74\x74\x70\163\72\x2f\x2f" : "\150\x74\x74\160\72\57\x2f") . (isset($_SERVER["\110\x54\124\x50\x5f\110\x4f\x53\124"]) ? $_SERVER["\110\124\x54\x50\137\x48\117\123\x54"] : '') . $sitepath); goto YHtgo; NJjmn: YElVG: goto NOynZ; foOd6: goto HvF8S; goto BlsFm; AGUWh: $action = trim($_GET["\x73\x74\x65\x70"]); goto VZW2W; wazVp: $sitepath = str_replace("\57\151\156\x73\x74\x61\154\154\56\160\150\x70", '', $sitepath); goto umB3R; W9XXr: exit(we7_error(0, $sitekey)); goto YhcC0; gLUyT: $source_size = we7_getcookie("\143\x64\156\137\x73\x6f\165\162\143\x65\x5f\x73\151\x7a\145"); goto MWhSV; HcRdb: if (!($action == "\x69\x6e\x73\x74\x61\x6c\154")) { goto K81xE; } goto oQpML; oXzoc: BeCqR: goto oIV1l; Z0x0g: set_time_limit(0); goto mGxGd; AUmAj: define("\101\120\x49\x5f\x48\x4f\123\124", "\x68\x74\164\160\72\57\57\x61\x70\151\x2e\167\x37\x2e\x63\143"); goto PStrK; gpFq5: if ($ret["\x72\157\157\164"]["\157\x6b"]) { goto Msgpy; } goto l1xnq; bX9gk: ckkqz: goto jgpkJ; dlWHT: function we7_finish() { goto QTQjK; SzM74: goto fFstd; goto I2uQ8; RrlvZ: cloud_reset_siteinfo(); goto XUEh4; YZ9IZ: $i = 1; goto dk5kj; t30UK: uBTw9: goto t7tn9; Jl81W: @unlink(IA_INSTALL_ROOT . "\57\x63\150\x61\x6e\147\145\56\163\x68"); goto SB0in; F3Q_f: load()->model("\x63\x6c\x6f\x75\x64"); goto WJn2D; XUEh4: cache_build_frame_menu(); goto Bfmal; uHA5w: load()->web("\x74\x65\x6d\160\x6c\141\x74\x65"); goto x2_f5; x2_f5: load()->model("\x73\x65\x74\x74\x69\156\147"); goto B_YE2; Bfmal: cache_build_setting(); goto lldhP; EZV0S: if (!($i <= $chunk_num)) { goto DulKS; } goto kUPC0; kPlLu: load()->web("\143\x6f\x6d\x6d\157\x6e"); goto uHA5w; kUPC0: @unlink("\56\57\143\x68\x75\156\153\137" . $i); goto t30UK; QTQjK: global $_W; goto LG_KM; JeOeZ: $_W["\x75\x69\x64"] = $_W["\x69\163\x66\157\165\x6e\144\145\162"] = 1; goto kPlLu; IEFG0: return true; goto TlC5u; t7tn9: $i++; goto SzM74; rzCTn: we7_setcookie("\x69\155\163\137\146\x61\x6d\x69\154\x79", '', -10); goto RrlvZ; YhKOr: cache_build_module_subscribe_type(); goto IEFG0; LG_KM: $chunk_num = we7_getcookie("\x63\x68\165\156\x6b\x5f\x74\x6f\x74\141\154"); goto nh_GO; eQsLU: we7_setcookie("\143\150\165\x6e\x6b\137\x74\157\x74\x61\154", '', -10); goto xaXGG; nh_GO: @unlink("\56\x2f\167\x65\67\163\157\x75\x72\x63\145\x2e\x7a\x69\160"); goto YZ9IZ; xaXGG: @unlink(IA_INSTALL_ROOT . "\57\144\x61\164\141\x2f\144\x62\56\x70\150\160"); goto H0GqN; lldhP: cache_build_users_struct(); goto YhKOr; WJn2D: setting_upgrade_version(we7_getcookie("\x69\155\x73\137\146\141\155\x69\x6c\x79"), IMS_VERSION, IMS_RELEASE_DATE); goto rzCTn; I2uQ8: DulKS: goto XZ1RR; XZ1RR: we7_setcookie("\x70\x61\x63\153\141\x67\145\137\155\144\65", '', -10); goto eQsLU; dk5kj: fFstd: goto EZV0S; B_YE2: load()->model("\143\x61\143\x68\x65"); goto F3Q_f; auFp9: @unlink(IA_INSTALL_ROOT . "\x2f\151\x6e\x69\164\x2e\x73\x68"); goto Jl81W; L4mSF: require IA_INSTALL_ROOT . "\x2f\x77\x65\142\x2f\x63\x6f\155\x6d\x6f\x6e\57\142\157\x6f\x74\x73\164\x72\141\x70\56\x73\x79\x73\56\151\156\x63\x2e\x70\150\x70"; goto JeOeZ; MiSr8: require IA_INSTALL_ROOT . "\x2f\x66\x72\141\x6d\145\167\157\162\x6b\57\x62\157\157\164\x73\x74\162\141\160\56\151\156\x63\x2e\160\150\x70"; goto L4mSF; H0GqN: @unlink(IA_INSTALL_ROOT . "\x2f\144\x61\x74\141\57\144\142\56\154\x6f\x63\153"); goto di2LT; di2LT: @unlink(IA_INSTALL_ROOT . "\57\143\157\x6e\163\157\x6c\145\x2e\160\150\x70"); goto auFp9; SB0in: define("\x49\x4e\137\123\x59\x53", true); goto MiSr8; TlC5u: } goto ASyn9; GqTaz: DRYBb: goto C9lsO; eOfh9: exit(we7_error(400, "\xe4\277\xae\xe6\224\271\xe7\xab\x99\347\x82\271\345\220\215\347\247\xb0\xe5\xa4\261\350\xb4\xa5\56")); goto iFlYm; UqYPh: $ret["\x75\160\154\x6f\x61\144"]["\146\141\x69\154\145\x64"] = true; goto ny_Id; FqsWk: $ret["\146\x6f\160\145\156"]["\146\141\151\x6c\x65\x64"] = true; goto rYfQQ; VMLvX: if (empty($code)) { goto mmIf3; } goto MusxB; pIWKl: $ret["\144\141\164\141"]["\156\x61\x6d\145"] = "\144\x61\x74\141\347\x9b\256\xe5\xbd\225\345\206\x99\xe5\x85\xa5"; goto KHzrJ; bojsF: exit(we7_error(400, "\350\216\xb7\345\x8f\x96\x61\x63\x63\145\x73\163\x74\157\153\x65\156\345\244\xb1\350\264\245\xef\274\214\350\xaf\267\351\x87\x8d\346\x96\xb0\347\231\273\xe5\xbd\225\56")); goto dIriR; PCsjX: function we7_request_api($url, $post = array()) { goto bxCfk; qh8bE: return array("\x65\162\162\157\x72" => 401); goto Bt_BP; lHQRN: $result = json_decode($response["\143\157\x6e\x74\145\x6e\164"], true); goto Iqd0t; g1asr: if (!($response["\143\x6f\144\x65"] != 200 || isset($response["\x65\x72\x72\x6e\157"]))) { goto vGhNZ; } goto w74DH; XZZ7z: vGhNZ: goto lHQRN; Bt_BP: vQM7s: goto g1asr; D9Lub: if (!($response["\143\x6f\x64\x65"] == 401)) { goto vQM7s; } goto qh8bE; hf_fc: kW39F: goto KdXU2; bxCfk: $response = we7_http_request($url, $post); goto D9Lub; Iqd0t: if (is_array($result)) { goto wIuyQ; } goto EpdvN; JlugK: goto kW39F; goto wu0tN; wu0tN: wIuyQ: goto coc1t; coc1t: return $result; goto hf_fc; w74DH: return array("\x65\162\162\x6f\162" => $response["\143\157\156\164\x65\x6e\x74"]); goto XZZ7z; EpdvN: return $response["\143\157\x6e\x74\x65\x6e\164"]; goto JlugK; KdXU2: } goto LMP1X; FMryi: lDLZx: goto PkUtM; FBY3s: $ret["\141\163\x70\137\164\141\147\163"]["\x6e\141\155\x65"] = "\x61\x73\160\137\164\x61\x67\163"; goto oKs5F; eGbBf: define("\x49\x4e\137\x53\x59\123", true); goto Lnt_N; CIVJ_: $ret["\x6e\x65\x74\x77\157\162\x6b\x5f\x65\x6e\141\x62\x6c\145\x64"]["\x72\x65\163\165\154\x74"] = "\345\244\226\xe7\xbd\221\xe4\xb8\215\xe5\217\257\xe8\256\277\351\x97\xae"; goto uOzuc; KHzrJ: $ret["\x64\x61\x74\x61"]["\x72\145\163\165\x6c\x74"] = "\144\x61\164\x61\347\233\256\xe5\275\x95\346\227\xa0\346\xb3\225\345\x86\231\xe5\x85\245"; goto yvPDK; GwXX4: header("\114\x6f\x63\141\164\151\157\156\x3a\x20" . $forward); goto l6x39; mGxGd: ob_start(); goto JEKbA; YGqtU: goto CtdgT; goto J5Yx1; LLg1Q: if ($ret["\146\x6f\160\145\156"]["\157\153"]) { goto KbDCN; } goto FqsWk; DyLRd: $ret["\144\141\164\141"]["\x66\x61\x69\x6c\145\x64"] = true; goto pIWKl; t9Vfy: if (!($action == "\147\145\164\x5f\163\x69\x74\145\153\145\171")) { goto ABlJw; } goto eGbBf; J4kOZ: $callback = urlencode($url); goto K3tOu; EW9aB: if (!($i <= $chunk_total)) { goto D1jzx; } goto kBTTC; dIriR: JvjAY: goto lhiPR; bCBLM: exit; goto Kp0UT; T2hWc: $fh = fopen("\56\x2f\167\x65\x37\x73\x6f\165\162\x63\x65\x2e\x7a\151\160", "\x77\x62"); goto HAv7a; oIV1l: tMxTc: goto vZJQV; YRr65: exit(we7_error(400, $chunk_num)); goto kaV7B; FzPwN: $handle_result = we7_handle_chunk(); goto b9M1N; NiSl8: exit(we7_error(421, $handle_result)); goto cXiiU; RRZPr: $result = intval($download_size / $source_size * 100); goto p7oJO; GS_FG: FX7xZ: goto DLfrf; JxgIv: ZMerN: goto aRGJ2; mzC5N: exit(we7_error(0, $chunk_num)); goto iRW9L; yH3BK: IDF8V: goto ExdqK; BT5IX: exit(we7_error(0, array("\164\157\x74\x61\x6c" => $data["\143\x68\165\x6e\153\137\164\157\164\x61\154"]))); goto AK6Gn; Qwb07: MRm5r: goto CCyuC; Tfau0: a7GWS: goto T4bn_; KoaqN: if (!($registered_site == 1)) { goto w6Jct; } goto DvQPv; XcF81: q67l3: goto bUEys; jgpkJ: if (!(version_compare(PHP_VERSION, "\x37\56\60\x2e\x30") == -1 && version_compare(PHP_VERSION, "\65\56\x36\x2e\60") >= 0)) { goto vxrgB; } goto v0MEL; NceW4: RxmLx: goto JH6EY; FstTS: $ret["\x61\x73\x70\137\164\141\x67\163"]["\x66\x61\x69\154\145\144"] = true; goto FBY3s; tXC2y: if (!($action == "\145\x6e\x76\151\x72\x6f\x6e\x6d\145\156\164")) { goto LhJoE; } goto wsod_; IAaIH: $sitepath = substr($_SERVER["\x50\x48\120\137\x53\x45\x4c\x46"], 0, strrpos($_SERVER["\120\110\120\x5f\x53\x45\x4c\106"], "\x2f")); goto wazVp; AFlTq: if (!(file_exists(IA_INSTALL_ROOT . "\57\144\141\164\x61\57\x69\156\x73\164\x61\x6c\154\x2e\154\157\143\x6b") && !in_array($action, array("\157\x61\165\x74\150", "\154\157\147\151\156", "\147\x65\164\x5f\x73\x69\164\145\x6b\145\x79")))) { goto BzOYd; } goto i8gS7; RT6OF: if (!(!file_exists(IA_INSTALL_ROOT . "\57\x63\x68\x75\156\153\x5f" . $i) || empty($chunk_i_filesize))) { goto YElVG; } goto WQ4hr; J6eU7: $registered_site = we7_getcookie("\162\145\147\x69\x73\x74\145\162\x65\144\x5f\x73\151\164\x65"); goto iHglb; OlXWs: JfH1l: goto HcRdb; jEQVq: exit(we7_error(400, $chunk_num)); goto FGdxN; nA_us: xiJWx: goto Zzkh8; xhJ4E: $data = we7_request_api(API_GET_CHUNK_PACKAGE, $post); goto SlBpy; zB1sa: if (!($action == "\x72\x65\x67\x69\x73\x74\x65\162\137\143\141\x6c\154\142\x61\143\153")) { goto n7HXo; } goto S3X3L; mJQvf: cUTdD: goto myoh8; Vo_MI: if (!($action == "\x63\150\x75\x6e\153\x74\157\x74\141\154")) { goto tMxTc; } goto KoaqN; wtuUT: jqrE_: goto CqCMa; zKie1: function we7_upgrade() { goto oJAEm; oJAEm: global $_W; goto cNnJz; YBhdC: foreach ($packet["\x73\143\150\x65\x6d\x61\163"] as $schema) { goto iB3vg; iB3vg: $tablename = substr($schema["\x74\141\x62\154\145\x6e\x61\x6d\x65"], 4); goto Vqghi; q1lVi: foreach ($sqls as $sql) { pdo_query($sql); Syzu4: } goto Iq1fV; El116: $sqls = db_table_fix_sql($local, $schema); goto q1lVi; Vqghi: $local = db_table_schema(pdo(), $tablename); goto El116; oglrv: UnfwH: goto SjmWs; Iq1fV: uaSWX: goto oglrv; SjmWs: } goto xPNbu; naMGQ: LmrkK: goto r_eJV; De5Ky: return true; goto XOYbl; xPNbu: ixitv: goto FMXQH; R0zGq: return true; goto trmSh; ez8yH: $packet = cloud_build(); goto QJ8xa; dB11v: if (empty($updatefiles)) { goto BCOQ_; } goto TznVR; V4SZa: require IA_INSTALL_ROOT . "\57\146\x72\141\x6d\x65\167\x6f\162\153\57\x62\157\x6f\x74\163\x74\x72\x61\160\56\x69\156\143\56\160\150\160"; goto ZgOZ_; cNnJz: define("\x49\x4e\137\123\x59\123", true); goto V4SZa; iR7uI: mkdirs($updatedir); goto jn5mG; QJ8xa: if (!empty($packet)) { goto cFguK; } goto De5Ky; QBYjq: $updatefiles = array(); goto ZwaYU; b8A8p: load()->model("\143\154\157\165\144"); goto a7OuR; rG3Oq: $crelease = IMS_RELEASE_DATE; goto TSLv4; FMXQH: ye5qi: goto pHfuE; ZwaYU: $updatedir = IA_INSTALL_ROOT . "\x2f\144\x61\x74\141\57\x75\160\x64\141\x74\x65\57"; goto I7GOS; Er3bO: load()->func("\146\x69\x6c\145"); goto ez8yH; kq5MZ: n3eQK: goto FkT3E; FkT3E: BCOQ_: goto xlJvm; PYZA6: if (!(!empty($packet["\x73\143\x68\145\155\x61\163"]) && is_array($packet["\x73\x63\x68\145\155\141\x73"]))) { goto ye5qi; } goto YBhdC; I7GOS: rmdirs($updatedir, true); goto iR7uI; ODbv3: if (!(!empty($packet["\146\x69\x6c\145\x73"]) && is_array($packet["\x66\151\154\x65\163"]))) { goto uFs0C; } goto cZmvj; r_eJV: uFs0C: goto PYZA6; kxeih: HlGDV: goto dB11v; XOYbl: cFguK: goto ODbv3; cZmvj: foreach ($packet["\146\x69\154\145\x73"] as $file) { cloud_download($file, "\146\x69\x6c\x65\163"); pEFhs: } goto naMGQ; jn5mG: $cversion = IMS_VERSION; goto rG3Oq; pHfuE: if (!(!empty($packet["\163\143\162\x69\x70\x74\163"]) && is_array($packet["\163\143\162\151\160\x74\x73"]))) { goto QczaG; } goto QBYjq; a7OuR: load()->func("\144\142"); goto Er3bO; ZgOZ_: require IA_INSTALL_ROOT . "\57\x77\x65\x62\x2f\x63\157\x6d\155\157\156\57\x62\157\x6f\x74\163\164\162\141\160\x2e\x73\171\163\x2e\151\x6e\143\x2e\160\x68\160"; goto b8A8p; TSLv4: foreach ($packet["\x73\143\162\x69\x70\164\163"] as $script) { goto BPU4P; h0PRk: $updatefile = $updatedir . $fname; goto cR0ki; gRt7F: $updatefiles[] = $updatefile; goto arn5d; H9m2o: $fname = "\165\160\x64\141\164\x65\50{$crelease}\x2d{$script["\162\145\154\x65\x61\163\x65"]}\x29\x2e\160\x68\160"; goto xHvPh; z43yD: H_61f: goto h0PRk; BPU4P: if (!($script["\162\x65\154\x65\141\163\145"] <= $crelease)) { goto nvaeo; } goto U0jk8; jk2W2: nvaeo: goto H9m2o; U0jk8: goto poa52; goto jk2W2; xHvPh: $crelease = $script["\162\145\x6c\x65\x61\163\145"]; goto tx1C7; arn5d: poa52: goto M3ivV; tx1C7: $script["\163\x63\162\x69\x70\164"] = @base64_decode($script["\163\x63\162\151\x70\x74"]); goto y0wab; y0wab: if (!empty($script["\163\x63\x72\151\x70\164"])) { goto H_61f; } goto qzW4P; qzW4P: $script["\163\143\162\x69\x70\164"] = <<<DAT
<?php
load()->model('setting');
setting_upgrade_version('{$packet["\x66\x61\155\151\x6c\x79"]}', '{$script["\166\x65\x72\x73\x69\x6f\x6e"]}', '{$script["\162\145\154\x65\141\163\x65"]}');
return true;
DAT;
goto z43yD; cR0ki: file_put_contents($updatefile, $script["\x73\143\x72\x69\x70\164"]); goto gRt7F; M3ivV: } goto kxeih; xlJvm: QczaG: goto R0zGq; TznVR: foreach ($updatefiles as $file) { goto k3SQi; i0BFj: fOrrW: goto dNasz; E4F2u: if (empty($evalret)) { goto JkILO; } goto Y0rWa; dNasz: $evalret = (include $entry); goto E4F2u; Y0rWa: cache_build_users_struct(); goto pB3m_; MeZJ6: v1y7u: goto LcBlX; TImRo: JkILO: goto MeZJ6; iN9Yt: @unlink($entry); goto TImRo; k3SQi: if (!(!is_file($file) || !preg_match("\57\x5e\165\x70\x64\x61\164\x65\134\x28\x5c\x64\x7b\x31\x32\175\134\55\x5c\x64\173\x31\62\x7d\134\x29\134\x2e\x70\x68\160\x24\x2f", $file))) { goto fOrrW; } goto CZb5E; CZb5E: goto v1y7u; goto i0BFj; pB3m_: cache_build_setting(); goto iN9Yt; LcBlX: } goto kq5MZ; trmSh: } goto y0zDH; Fz57i: exit(we7_error(400, "\344\xbf\xae\346\x94\271\xe7\x94\xa8\xe6\210\xb7\345\220\x8d\345\xaf\x86\xe7\240\201\xe5\244\xb1\xe8\264\xa5\x2e")); goto hCpkX; wa4Ng: $ret["\x72\x6f\x6f\164"]["\x6e\141\x6d\145"] = "\346\x9c\xac\xe5\x9c\260\xe7\233\256\xe5\xbd\x95\xe5\206\231\xe5\x85\xa5"; goto pDYrh; kBTTC: $chunk_i_filesize = filesize(IA_INSTALL_ROOT . "\x2f\143\150\x75\x6e\153\137" . $i); goto RT6OF; Es9P2: we7_setcookie("\151\x6d\x73\x5f\146\x61\155\151\154\171", in_array($data["\146\x61\155\151\154\x79"], array("\154", "\x76", "\163", "\x78")) ? $data["\146\141\155\x69\154\x79"] : "\166"); goto s1vK2; wW7Y0: $download_size = filesize("\56\x2f\167\x65\67\163\x6f\x75\x72\143\x65\56\x7a\151\x70"); goto RRZPr; eFboO: $ret["\x76\145\162\163\151\x6f\x6e"]["\146\x61\151\x6c\145\144"] = true; goto yf6XL; Lv1yP: $url = $siteroot . "\57\x69\156\x73\164\141\x6c\x6c\x2e\160\150\x70\x3f\x73\164\145\160\75\157\x61\x75\x74\150"; goto J4kOZ; joVEu: if ($sitename_result) { goto twFCu; } goto eOfh9; ASyn9: function we7_http_request($url, $post = array()) { goto dacGg; GMWYD: $data = curl_exec($ch); goto sfIdU; EHYTs: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto k5xB8; ZZRbR: Gn_ZE: goto RiijR; RiijR: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60); goto wDxpG; yr4RJ: OC5lA: goto kJbJJ; wDxpG: curl_setopt($ch, CURLOPT_TIMEOUT, 60); goto UX9sE; BKjAa: return we7_http_response_parse($data); goto Ifl1I; yB6F3: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); goto Zjtlr; tQUkI: curl_setopt($ch, CURLOPT_POST, 1); goto Q87d5; SupQN: if ($errno || empty($data)) { goto Piqg7; } goto BKjAa; Ifl1I: goto OC5lA; goto i6t9E; k5xB8: @curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); goto YiRkM; Zjtlr: curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER["\110\x54\x54\x50\x5f\125\123\x45\122\137\101\107\x45\x4e\x54"]); goto GMWYD; dacGg: $ch = curl_init(); goto oLkGh; yLr_2: return array("\145\x72\162\156\x6f" => $errno, "\145\x72\x72\157\x72" => $error); goto yr4RJ; Q87d5: curl_setopt($ch, CURLOPT_POSTFIELDS, $post); goto ZZRbR; G6_7Z: $error = curl_error($ch); goto mT9YI; oLkGh: curl_setopt($ch, CURLOPT_URL, $url); goto EHYTs; UX9sE: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto yB6F3; mT9YI: curl_close($ch); goto SupQN; YiRkM: curl_setopt($ch, CURLOPT_HEADER, 1); goto n0MDI; sfIdU: $errno = curl_errno($ch); goto G6_7Z; i6t9E: Piqg7: goto yLr_2; n0MDI: if (!$post) { goto Gn_ZE; } goto tQUkI; kJbJJ: } goto Enp0u; MO00S: touch(IA_INSTALL_ROOT . "\57\144\x61\164\x61\x2f\x69\x6e\163\164\x61\x6c\154\56\154\x6f\143\x6b"); goto q7vXI; W1lz2: if (!($action == "\x6c\157\147\x69\x6e")) { goto EItgZ; } goto syRRy; myoh8: $result = array(); goto n5IjI; BJapx: if (!($database_result !== true)) { goto lDLZx; } goto yHY1q; EBAP6: k3IsK: goto BMjHw; MGT8U: function we7_setcookie($key, $value) { goto b8z2i; hsxmv: VoBdI: goto qQiWm; b8z2i: $secure = $_SERVER["\x53\105\122\x56\x45\122\137\x50\117\x52\124"] == 443 ? 1 : 0; goto wkelR; qQiWm: return setcookie(COOKIE_PRE . $key, $value, 0, '', '', $secure, true); goto SfhwQ; BVAUM: $value = json_encode($value); goto hsxmv; wkelR: if (!is_array($value)) { goto VoBdI; } goto BVAUM; SfhwQ: } goto rg54_; h3rSU: exit; goto MGLb0; Y_bou: $filename = IA_INSTALL_ROOT . "\x2f\143\x68\165\156\153\137" . $chunk_num; goto p6jLG; plHQB: exit(we7_error(0, "\163\165\x63\143\145\163\x73")); goto emXux; IB44u: function we7_handle_chunk() { goto OdtLf; MHrBu: if (!file_exists($tmpfile)) { goto Gfa0g; } goto OL18J; AKICX: $result = true; goto j1Cf5; GWwJD: $zip->close(); goto AKICX; OdtLf: $tmpfile = "\x2e\x2f\x77\x65\x37\x73\157\165\162\x63\x65\56\172\151\160"; goto T064h; LyDoZ: return $result; goto AnDgT; T064h: $result = false; goto MHrBu; yTmA1: $res = $zip->open($tmpfile); goto ycF_1; j1Cf5: eQDsm: goto pv64h; pv64h: Gfa0g: goto LyDoZ; LK_ii: $zip->extractTo(IA_INSTALL_ROOT); goto GWwJD; ycF_1: if (!($res === TRUE)) { goto eQDsm; } goto LK_ii; OL18J: $zip = new ZipArchive(); goto yTmA1; AnDgT: } goto J2iW_; hIwJE: we7_handle_chunk(); goto ixI3Y; rg54_: function we7_getcookie($key) { goto R6heK; dLL9W: $key = COOKIE_PRE . $key; goto k8RTw; R6heK: if (!empty($key)) { goto O85wC; } goto qfazX; qfazX: return ''; goto Vpnvy; k8RTw: return $_COOKIE[$key]; goto e0LCQ; Vpnvy: O85wC: goto dLL9W; e0LCQ: }